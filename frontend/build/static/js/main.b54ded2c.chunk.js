(this["webpackJsonpMboaServices-Client-App"]=this["webpackJsonpMboaServices-Client-App"]||[]).push([[0],{150:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADAAAAAwCAYAAABXAvmHAAAABmJLR0QA/wD/AP+gvaeTAAADIElEQVRoge2XMUwUQRSG/zc7l0A8NCFWikZMSEgo7mAXrjJWBkMjigna2GihpdcohYVWFKi9lTYGUGIsjCaY2K7sksPKRI0aBSs08cCK3X0WHsneiczu3BwnyX3JFTP75r3/v5l7cwu0aC5kMpnv+4cBjAIYAXAEQFfl0TKAzwCeAXjqOM4XUzWNGHBdt8uyrBtEdBGApQiPAMyFYXitUCh8qrd23QY8zxsjogcA9qRcuk5EF2zbflJPfVHPYt/3i0T0COnFA0CWmec8z7tajwZtA57njQGYwt+76DLzZWbuzWQy2Uwmk2XmXgBXALyuiSUimlpcXDytq0PrCC0sLBwSQrxF9Te/RkSXbNue3W6t53nniOgegI7Y9LqUsjefz6+k1aK1A0KIW6gWXxZCHFOJB4DBwcFpZj4OYC02nQ2C4KaOltQ7UGmVHxHrNkQ0nkR8HM/zzhPRw9hUGEVR99DQ0Nc0eXR2YBTVrdJNKx4AHMeZBrAQm7KI6FTaPDoGRuIDZr6vkQNExACq1gohRraO/jc6BrrjgyiKXmnk2KRqLTMfTZtAx8CB+KCtrS1159ikvb19uWbqYNocOgay8UEul/ulkQMA0NfXt75d7iTUdRP/DyRqo6VSqScIgkkiOoHqC6gRrAF4LqUsJrnYlAZKpVJPGIYugE4T6lKwKqXMq0woj1AQBJPYefEAsH9jY+O2KkhpoHJsmgIRnVTFyAR5qs684zhG3+Jq8X2fY8N9qvhd34VaBppNy0CzSdKFUuO6bpeU8i6AYQBg5nkp5fX+/v73pmsZ34GK+DcAzuJPC+4gojNhGLpLS0up/22qMG6g8s1vdXN3BkFwx3S9RvwGhjWfadEIA6wOMYdxA8z8cpvH86brGTcQRdEEgO9bPPpBRBOm6xk3UCgU3kkpcwBmAZQrn8dEVLBt+4Ppeg25ByovIeONyF3Lrr+JWwaaTctAs0nShcoA9m4Oat5ZG81PVUCSHXhhQIgWzKysrTQgpSwCWDWiKB2rlmUVVUFKA/l8fkUIkWPmGfw5To2mzMwzQojcwMDAtx2o16LFruY3H8/WLiGtRH8AAAAASUVORK5CYII="},152:function(e,t,a){e.exports=a.p+"static/media/orange_money.1475bcd8.jpg"},153:function(e,t,a){e.exports=a.p+"static/media/momo.3549fc6e.jpg"},170:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACAAAAAgCAYAAABzenr0AAADYUlEQVRYR6XXWchvYxQG8N/BMRXKkFlmEokbuSEpRKFESI6EDDckIo4ypyQpmYckQyljIW4MF25IhswRhcySeez5Wvtr2+f/33t/+6yb3d57rfd93jU+7zJLk11wHQ7F+i3Tf/AZbsAt+HPssstGKp6Me7DGSP13sB9+GtIfApBTfoENWwt9UF54Ht9jLeyE07ECa7d0462L+kD0AdgV77WMb8K5+HfgVNvhNWxSem9hr3k28wBsi0/L6Ddsip/rfTkOxlHYAb/iFTyMT1obnY/r6z0h2WMWiFkAEue/kH/f1uax3R9PY6MBDzyKY/E3DsALpX8rzurazgLwKvatBXLaAPoY8cpS5AzcgVMqgWO7Jb5sL9IFsEUlXXR2Lg98V95YyuaN7hMVqoRgd3yFzfsAvIk9EYO98ftqbN7scz/ijV/qQ/IpoV2QrgeaDI+7X29l8pTTt20OrDDsiIdwwiwAydK3q8xOxIOru2vLPp3ycDxTCX4ckqyLHrgMl5dBym9rrDkRQBpTqqgrp+HO1sc/sE5CELd8NHGzrtnCojgVd41Y8/gAuARXjVAeo3I0Hi/FeGHIiysDYCWuGLP6gM6luLqlk9lw+4DNZAA53Ru4F4/VKO7ulcMl+fpkNICvcTGerGYy1mE/diZp124UgBeROp4iT+GIHsMFAENJmLLKYJkiVyK5MU/OCYCQiQ97lIZISx+wM4uiRSdtPSXaluXN4inDeCJyLS5slVBKaSiZ5oE4GzfXz5OQcDZkZYNwjHmnS69+oAwPwXNT/I/bahDlAE1PCMGJxzP0VhlG7X2+qWG0ygjtAZNef1jrf6on0y/E5CVsXJOwee8FEDLSjOO065CSyHrVAy7A+9imWm8GTPr93aWXeOe09xVZzefoJ+cWO+RQgoUN/4D0+HVbJ9u+FgvIRs7Dja33ENoQ0mPqW56PlIeebfSGAEQvlCxUPFPyoI77443Q8DSctmQQhQvm9JGQm/CLhCHuX5QxABrlfZC8yA1oSAK6qZyEJdwwEzc073+yFABd28RxN7w7p0y3qpILB0wLP3IW6qkAus0rBOZzbFbUO7ehhCe5kyta3D9TpgJINueiOk+SM+klofi9MhVA6j035EZexjV1Q8p9cbRMBRC7uDz3iCRl7oOT5D9tz6hSWvW8wAAAAABJRU5ErkJggg=="},197:function(e,t,a){e.exports=a(317)},202:function(e,t,a){},203:function(e,t,a){},221:function(e,t,a){},223:function(e,t,a){},229:function(e,t,a){},230:function(e,t,a){},231:function(e,t,a){},232:function(e,t,a){},236:function(e,t,a){},237:function(e,t,a){},238:function(e,t,a){e.exports=a.p+"static/media/advertise.a2485563.jpeg"},239:function(e,t,a){},240:function(e,t,a){},241:function(e,t,a){},248:function(e,t,a){},249:function(e,t,a){},250:function(e,t,a){},251:function(e,t,a){},267:function(e,t,a){},268:function(e,t,a){},271:function(e,t,a){},276:function(e,t,a){},278:function(e,t,a){},28:function(e,t){t.apiUrl="https://www.mboafoods.com",t.wsUrl="ws://www.mboafoods.com"},300:function(e,t,a){},301:function(e,t,a){},302:function(e,t,a){},303:function(e,t,a){},304:function(e,t,a){},305:function(e,t,a){},306:function(e,t,a){},307:function(e,t,a){},308:function(e,t,a){},309:function(e,t,a){},310:function(e,t,a){},311:function(e,t,a){},312:function(e,t,a){},313:function(e,t,a){},314:function(e,t,a){},315:function(e,t,a){},316:function(e,t,a){},317:function(e,t,a){"use strict";a.r(t);var n=a(1),r=a.n(n),s=a(18),i=a.n(s),c=(a(202),a(35)),o=a(27),l=a(14),m=(a(203),a(33)),d=a(60),u=a(16),p=a.n(u),h=a(176),f=a(379),g=a(394),v=a(380),E=a(7),b=a(8),y=a(9),N=a(10),O=(a(221),function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t={rating:{backgroundColor:this.props.rating>=0&&this.props.rating<2?"#d9534f":this.props.rating>=2&&this.props.rating<3.5?"#db7c38":"#48c479",width:"48px",padding:"0px 5px",fontWeight:400,height:"22px",display:"inline-block",borderBottom:"1px solid #e9e9eb",borderRadius:"20px"}};return r.a.createElement("div",{className:"restaurant",onClick:function(){e.props.history.push("/restaurant/".concat(e.props.id))}},r.a.createElement("img",{src:this.props.src,className:"image",alt:"restaurant"}),r.a.createElement("p",{className:"name"},this.props.name),r.a.createElement("p",{className:"types"},this.props.categories.map((function(t,a){return a<e.props.categories.length-1?a<3?t.name+",":".":a<3?t.name:"."}))),r.a.createElement("div",{className:"features",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("div",{className:"rating",style:t.rating},r.a.createElement("img",{src:a(85),className:"star-icon",alt:"star"}),r.a.createElement("h6",{className:"rating-value"},this.props.rating?this.props.rating:0)),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"1km"),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"32 min")),r.a.createElement("div",{className:"offers",style:{display:"flex"}},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"offer-content"},"20% on all orders")))}}]),n}(n.Component)),C=a(12),x=a.n(C),k=a(17),j=(a(223),a(385)),A=a(389),S=a(383),w=a(105),I=a(45),D=Object(n.createContext)({token:"",setToken:function(e){}});function T(){return Object(n.useContext)(D)}var P=r.a.createContext({clientId:null,cartItems:[],finalPrice:0,restaurant:{},latitude:null,longitude:null,setClientId:function(){},addToCart:function(e){},removeFromCart:function(e){},setProductCart:function(e){},setFinalPrice:function(e,t){},setCartProductQuantity:function(e){},setRestaurant:function(e){},setProductAddOn:function(e){}});function _(){return Object(n.useContext)(P)}var F=function(e){var t=T(),a=t.token,n=t.setToken,s=_(),i=(s.clientId,s.setClientId),c=function(){var t=Object(k.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,n(null);case 2:return t.next=4,i(null);case 4:return t.next=6,localStorage.setItem("authToken",null);case 6:return t.next=8,localStorage.setItem("clientId",null);case 8:e.history.push("/login");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}();return r.a.createElement(j.a,{bg:"white",expand:"lg",style:{boxShadow:"0 15px 40px -30px"}},r.a.createElement(j.a.Brand,{className:"logo",onClick:function(){e.history.push("/")}},"MBOA Services"),r.a.createElement(j.a.Brand,null,e.name),r.a.createElement(j.a.Toggle,{"aria-controls":"basic-navbar-nav"}),r.a.createElement(j.a.Collapse,{bg:"white",id:"basic-navbar-nav"},r.a.createElement(A.a,{className:"ml-auto"},r.a.createElement(A.a.Link,{className:"navlink",onClick:function(){e.history.push("/search")}},r.a.createElement(w.b,null),"\xa0Search"),null!==a?r.a.createElement(S.a,{style:{marginTop:"3px",color:"#52be80"},title:"Temporary User",id:"basic-nav-dropdown"},r.a.createElement(S.a.Item,{onClick:function(){e.history.push("/orders")}},"Orders"),r.a.createElement(S.a.Item,{onClick:function(){e.history.push("/cart")}},"Cart"),r.a.createElement(S.a.Divider,null),r.a.createElement(S.a.Item,{onClick:c},"Logout")):r.a.createElement(A.a.Link,{className:"navlink",onClick:function(){e.history.push("/login")}},r.a.createElement(I.c,{size:20}),"\xa0Login"))))},R=(a(229),{getRestaurants:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/restaurant/get-restaurant-on-filter?search=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRestaurantHomePage:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/restaurant/get-restaurant-on-home-page",{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getSpecificRestaurant:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/restaurant/get-restaurant/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getRestaurantPromoCodes:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/restaurant/get-promocode/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),giveRestaurantReview:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/reviews/create-client-review",a,{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()}),B=a(100),M=(a(230),a(231),a(232),a(118)),H={getSpecificClient:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/client/get-client/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getClientCart:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/client/get-client-cart/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),clientAddItemToCart:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/client/add-item-in-client-cart",a,{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),deleteItemFromCart:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.delete("/client/delete-item-in-client-cart/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),updateItemInCart:function(){var e=Object(k.a)(x.a.mark((function e(t,a,n){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.put("/client/update-item-in-client-cart/".concat(a),n,{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a,n){return e.apply(this,arguments)}}(),checkRestaurantCart:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/client/verify-restraurant-with-client-cart",a,{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getClientCartItemPrice:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/client/get-client-cart-item-price/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getClientPrice:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/client/get-client-total-cart-price/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},Y=a(359),L=a(367),W=a(361),z=a(364),U=a(365),V=a(390),Q=a(121),G=a(115),q=a.n(G),X=a(363),J=a(366),K=a(388),Z=a(368),$=Object(Y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},avatar:{backgroundColor:Q.a[100],color:Q.a[600]},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],marginLeft:"100px"}}}));var ee={dialogTitle:{fontWeight:"bold",marginLeft:"20px",marginRight:"20px"}},te=function(e){var t=$(),a=Object(n.useState)([]),s=Object(l.a)(a,2),i=s[0],c=s[1],m=Object(n.useState)([]),d=Object(l.a)(m,2),u=d[0],p=d[1],h=e.onClose,f=e.open;Object(n.useEffect)((function(){var t=e.addOns;c(t)}),[e.addOns]);var g,v=function(e){var t=Object(o.a)(u);if(!0!==t.includes(e))t.push(e);else{var a=t.findIndex((function(t){return t===e}));t.splice(a,1)}console.log(t),p(t)};return g=i.map((function(e){return r.a.createElement(W.a,{button:!0,key:e.id},r.a.createElement(K.a,{value:e.id,onChange:function(e){v(e.target.value)}}),r.a.createElement(z.a,{secondary:"FCFA ".concat(e.price),primary:"".concat(e.name)}))})),r.a.createElement(V.a,{onClose:function(){},"aria-labelledby":"simple-dialog-title",open:f},r.a.createElement(X.a,{"aria-label":"close",className:t.closeButton,onClick:h},r.a.createElement(q.a,{size:10})),r.a.createElement(U.a,{id:"simple-dialog-title",style:ee.dialogTitle},"Add Ons(Optional)"),r.a.createElement(J.a,null),r.a.createElement(L.a,null,g),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){e.handleAdd(u),h()}},"Add"))},ae=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleAdd=function(e){H.updateItemInCart(n.context.token,n.props.id,{add_ons:e}).then((function(e){H.getClientCartItemPrice(n.context.token,n.props.id).then((function(e){n.setState({finalPrice:e.data.price}),n.context.setProductAddOn(n.props.id,e.data.price)}))}))},n.removeFromCart=function(){H.deleteItemFromCart(n.context.token,n.props.id).then((function(e){H.getClientPrice(n.context.token,n.context.clientId).then((function(e){n.props.setFinalPriceData(e.data.total_price),n.context.removeFromCart(n.props.id)}))}))},n.handleClickOpen=function(){n.setState({addOnVisible:!0})},n.handleClose=function(e){n.setState({addOnVisible:!1})},n.cartUpdateHandler=function(e){var t={num_of_items:e,price:n.props.price*e};H.updateItemInCart(n.context.token,n.props.id,t).then((function(t){H.getClientCartItemPrice(n.context.token,n.props.id).then((function(t){n.setState({count:e,finalPrice:t.data.price}),n.props.setFinalPriceData(t.data.price),n.context.setCartProductQuantity(n.props.id,e,t.data.price)}))}))},n.state={count:1,addOnVisible:!1,addOns:[],finalPrice:null},n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({addOns:this.props.add_ons,finalPrice:this.props.finalPrice})}},{key:"componentDidMount",value:function(){this.setState({count:this.props.num_of_items})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cart-it"},r.a.createElement("div",{className:"cart-item-desk"},r.a.createElement("h5",{className:"name"},this.props.name),r.a.createElement("div",{className:"counter"},r.a.createElement(M.a,{min:1,max:10,count:this.props.num_of_items,onCountChange:function(t){0===t&&e.removeFromCart(),e.cartUpdateHandler(t)},inputStyle:{color:"#52be80",fontWeight:"bold"},wrapperStyle:{border:"2px solid #52be80",height:"43px",borderRadius:"10px",width:"108px",fontWeight:"bold",color:"#52be80"}})),r.a.createElement("div",{className:"price"},"FCFA ",this.state.finalPrice),r.a.createElement("div",{className:"cross",onClick:this.removeFromCart},"x"),r.a.createElement(te,Object.assign({handleAdd:this.handleAdd},this.props,{cartItemId:this.props.id,addOnHandler:this.addOnHandler,addOns:this.state.addOns,open:this.state.addOnVisible,onClose:this.handleClose}))),this.state.addOns.length>0?r.a.createElement("button",{className:"buttonCustomize",onClick:this.handleClickOpen},r.a.createElement("span",{className:"btncon"},"Customize")):null)}}]),a}(n.Component);ae.contextType=P;var ne=ae,re=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],loading:!1},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props.visible?"cart-slider show":"cart-slider hide";return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"essential"},r.a.createElement(I.d,{size:20}),r.a.createElement("h5",{className:"number"},this.props.cartItemsLength," items ",this.context.cartItems.length>0?r.a.createElement(m.b,{to:"/restaurant/".concat(this.context.cartItems[0].restaurant.id)},"from "+this.context.cartItems[0].restaurant.name):""," "),r.a.createElement("div",{className:"close",onClick:this.props.handlerOpen},"x")),this.context.cartItems.map((function(e){return r.a.createElement(ne,{key:e.id,id:e.id,add_ons:e.dish.add_ons,name:e.dish.name,price:e.dish.price,finalPrice:e.price,num_of_items:e.num_of_items})})),0!==this.context.finalPrice?r.a.createElement("div",{className:"checkout",onClick:function(){e.props.history.push("/cart")}},r.a.createElement("span",{className:"checkouttxt"},"Checkout"),r.a.createElement("div",{className:"checkout-btn"},r.a.createElement("span",{className:"checkout-btntxt"},"FCFA ",this.context.finalPrice))):null)}}]),a}(n.Component);re.contextType=P;var se=re,ie=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handlerOpen=function(e){e.stopPropagation(),n.setState({active:!n.state.active})},n.handlerOpen1=function(){n.setState({active:!0})},n.state={active:!1},n.handlerOpen=n.handlerOpen.bind(Object(B.a)(n)),n}return Object(b.a)(a,[{key:"render",value:function(){var e,t=this;return this.state.active&&(e=r.a.createElement(se,Object.assign({},this.props,{visible:this.state.active,handlerOpen1:this.handlerOpen1,handlerOpen:this.handlerOpen}))),r.a.createElement("div",{className:"cart-comp",onClick:function(){t.setState({active:!0})}},r.a.createElement("div",{className:"info"},r.a.createElement(I.d,{size:20}),r.a.createElement("h5",{className:"number"},this.context.cartItems.length," items")),r.a.createElement("div",{className:"pricetag"},r.a.createElement("h5",{className:"price"},"FCFA ",this.context.finalPrice)),e)}}]),a}(n.Component);ie.contextType=P;var ce=ie,oe=a(369),le=function(){return r.a.createElement("div",{className:"row"},Array(9).fill().map((function(e,t){return r.a.createElement("div",{className:"col-xs-12 col-sm-9 col-md-6 col-lg-3",key:t},r.a.createElement(oe.a,{height:180}),r.a.createElement("h4",{className:"card-title"},r.a.createElement(oe.a,{circle:!0,height:50,width:50})," \xa0",r.a.createElement(oe.a,{height:36,width:"80%"})),r.a.createElement("p",{className:"card-channel"},r.a.createElement(oe.a,{width:"60%"})),r.a.createElement("div",{className:"card-metrics"},r.a.createElement(oe.a,{width:"90%"})))})))},me=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).sortBy=function(e){if("rating"===e){var t=n.state.data.sort((function(e,t){return new Date(e.rating).getTime()-new Date(t.rating).getTime()})).reverse();n.setState({filterData:t})}},n.state={data:[],filterData:[],loading:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),R.getRestaurantHomePage(this.context.token).then((function(t){var a=[];t.data.map((function(e){e.is_open&&a.push(e)})),e.setState({data:a,filterData:a,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"homepage"},r.a.createElement(F,Object.assign({name:"Home"},this.props)),r.a.createElement("div",{className:"filters"},r.a.createElement("h2",{className:"restaurant-count"},this.state.data.length," restaurants"),r.a.createElement("div",{className:"filters-div"},r.a.createElement("div",{className:"filter"},"Relevance"),r.a.createElement("div",{className:"filter"},"Delivery Time"),r.a.createElement("div",{className:"filter",onClick:function(){e.sortBy("rating")}},"Rating"),r.a.createElement("div",{className:"filter"},r.a.createElement(w.a,{size:20})," \xa0Filters"))),r.a.createElement("div",{className:"container-fluid"},this.state.loading&&r.a.createElement(le,null),r.a.createElement("div",{className:"row cont"},this.state.filterData.map((function(t){return r.a.createElement("div",{key:t.id,className:"col-xs-12 col-sm-9 col-md-6 col-lg-3 restaurant-card",onClick:function(){e.props.history.push("/restaurant/".concat(t.id))}},r.a.createElement(O,Object.assign({},e.props,{src:t.image,id:t.id,name:t.name,categories:t.category,rating:t.rating})))})))),this.context.clientId?r.a.createElement(ce,Object.assign({},this.props,{cartItemsLength:this.context.cartItems.length,price:0})):null)}}]),a}(n.Component);me.contextType=P;var de=me,ue=(a(236),a(237),{mobileCheckHandler:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/user/check-mobile-number",{mobile_number:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),sendOtp:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/user/send-otp",{mobile_number:t});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),verifyOtp:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/user/verify-otp",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),signUp:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/user/register",t);case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()});var pe=function(e){var t,s=Object(n.useState)(!1),i=Object(l.a)(s,2),c=(i[0],i[1],Object(n.useState)(!1)),o=Object(l.a)(c,2),d=o[0],u=o[1],p=Object(n.useState)(!1),h=Object(l.a)(p,2),f=h[0],g=h[1],v=Object(n.useState)(""),E=Object(l.a)(v,2),b=E[0],y=E[1],N=Object(n.useState)(""),O=Object(l.a)(N,2),C=O[0],x=O[1],k=Object(n.useState)(""),j=Object(l.a)(k,2),A=(j[0],j[1]),S=T().setToken,w=_().setClientId;return t=f?r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"forgot-password",style:{margin:"0px"}},"Sign In with OTP"),r.a.createElement("div",{className:"form-with-icon"},r.a.createElement("input",{placeholder:"OTP*",name:"otp",onChange:function(e){x(e.target.value)},className:"signin-input",type:d?"text":"password"}),r.a.createElement("div",{className:"icon",onClick:function(){u(!d)}},r.a.createElement("img",{className:"img-fluid lock-icon",src:a(150),alt:"lock"})))):null,r.a.createElement("div",{className:"signin"},r.a.createElement("h2",{className:"header"},"Sign In"),r.a.createElement("form",{className:"signin-form"},r.a.createElement("img",{className:"image",src:a(238),alt:"advertise"}),r.a.createElement("input",{type:"text",onChange:function(e){y(e.target.value)},name:"mobile",placeholder:"Mobile*",className:"input"}),t,r.a.createElement("br",null),r.a.createElement("button",{className:"signin-button",onClick:f?function(t){t.preventDefault();var a={mobile_number:"+237"+b,otp:C};ue.verifyOtp(a).then((function(t){S(t.data.token),w(t.data.client.id),localStorage.setItem("authToken",t.data.token),localStorage.setItem("clientId",t.data.client.id),e.history.push("/")})).catch((function(e){alert(e.response.data.message),console.log(e.response.data)}))}:function(t){t.preventDefault(),ue.mobileCheckHandler("+237"+b).then((function(e){e.data.is_valid&&(g(!0),ue.sendOtp("+237"+b).then((function(e){A("OTP sent successfully!")})).catch((function(e){console.log(e.response.data)})))})).catch((function(t){return e.history.push("/signup")}))}},r.a.createElement("span",{className:"btncon"},"Log In"))),r.a.createElement(m.b,{to:"/signup",className:"link"},r.a.createElement("h5",{style:{textAlign:"center",fontWeight:"initial",marginTop:"4px"}},"Don't Have an account? ",r.a.createElement("span",{style:{fontWeight:"600"}},"Sign Up"))))},he=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement(pe,this.props))}}]),a}(n.Component),fe=a(40),ge=(a(239),a(6)),ve=a(120),Ee=a(370),be=Object(ge.a)({root:{color:ve.a[300],"&$checked":{color:ve.a[400]}},myLabel:{fontSize:"10px"},checked:{}})((function(e){return r.a.createElement(K.a,Object.assign({color:"default"},e))})),ye=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).handleChange=function(e){a.setState(Object(c.a)({},a.state,Object(fe.a)({},e.target.name,e.target.checked)))},a.passwordTypeHandler=function(){a.setState({passwordTypeText:!a.state.passwordTypeText})},a.onChangeHandler=function(e){var t=Object(c.a)({},a.state.formfields);t[e.target.name]=e.target.value,a.setState({formfields:t})},a.handleCheckedChange=function(){a.setState({checked:!a.state.checked})},a.onSubmitHandler=function(e){e.preventDefault();var t=a.state.formfields,n="+237"+a.state.formfields.mobile;t.mobile=n,a.state.checked?ue.signUp(t).then((function(e){if(200===e.status)return a.props.history.push("/login")})).catch((function(e){console.log(e)})):alert("Please confirm our privacy policy to proceed")},a.state={remember:!1,passwordTypeText:!1,formfields:{name:"",email:"",mobile:"",password:""},checked:!1},a}return Object(b.a)(n,[{key:"render",value:function(){return r.a.createElement("div",{className:"signup"},r.a.createElement("h2",{className:"header"},"Sign Up"),r.a.createElement("form",{className:"signup-form",method:"post"},r.a.createElement("input",{type:"text",onChange:this.onChangeHandler,name:"name",placeholder:"Name",className:"input"}),r.a.createElement("input",{type:"text",onChange:this.onChangeHandler,name:"email",placeholder:"Email",className:"input"}),r.a.createElement("input",{type:"text",onChange:this.onChangeHandler,name:"mobile",placeholder:"Mobile",className:"input"}),r.a.createElement("div",{className:"form-with-icon"},r.a.createElement("input",{placeholder:"Password",name:"password",className:"signup-input",onChange:this.onChangeHandler,type:this.state.passwordTypeText?"text":"password"}),r.a.createElement("div",{className:"icon",onClick:this.passwordTypeHandler},r.a.createElement("img",{className:"img-fluid lock-icon",src:a(150),alt:"lock"}))),r.a.createElement(Ee.a,{control:r.a.createElement(be,{checked:this.state.checked,onChange:this.handleCheckedChange,name:"remember"}),label:"You agree to our Terms of use",classes:{label:"myLabel"}}),r.a.createElement("br",null),r.a.createElement("button",{className:"signup-button",onClick:this.onSubmitHandler},r.a.createElement("span",{className:"btncon"},"Sign Up"))),r.a.createElement(m.b,{to:"/login",className:"link"},r.a.createElement("h5",{style:{textAlign:"center",fontWeight:"initial",marginTop:"0px"}},"Already Have an account? ",r.a.createElement("span",{style:{fontWeight:"bold"}},"Sign In"))))}}]),n}(n.Component),Ne=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement("header",{className:"App-header"},r.a.createElement(ye,this.props))}}]),a}(n.Component),Oe=(a(240),a(59)),Ce=(a(241),a(86),a(53)),xe=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).submit=function(){Object(Ce.confirmAlert)({title:"Items already in cart",message:"Your cart contains items from other restaurant. Would you like to reset your cart for adding items from this restaurant?",buttons:[{label:"Yes",onClick:function(){n.context.setProductCart([]),n.context.setFinalPrice(0,"zero");var e={client:n.context.clientId,restaurant:n.props.restId,dish:n.props.id,num_of_items:1,add_ons:[],price:n.props.price};H.clientAddItemToCart(n.context.token,e).then((function(e){console.log(e.data);var t={client:n.context.clientId,restaurant:n.props.restaurant,dish:n.props.data,num_of_items:1,id:e.data.id,add_ons:[],price:n.props.price};n.context.addToCart(t),n.setState({counterVisible:!0})}))}},{label:"No",onClick:function(){return console.log("No")}}]})},n.buttonHandler=function(){var e={client:n.context.clientId,restaurant:n.props.restId};if(!n.context.clientId)return n.props.history.push("/login");if(0===n.context.cartItems.length){var t={client:n.context.clientId,restaurant:n.props.restId,dish:n.props.id,num_of_items:1,add_ons:[],price:n.props.price};H.clientAddItemToCart(n.context.token,t).then((function(e){var t={client:n.context.clientId,restaurant:n.props.restaurant,dish:n.props.data,num_of_items:1,id:e.data.id,add_ons:[],price:n.props.price};n.context.addToCart(t),n.setState({counterVisible:!0})}))}else H.checkRestaurantCart(n.context.token,e).then((function(e){if(e.data.is_restaurant_same){var t={client:n.context.clientId,restaurant:n.props.restId,dish:n.props.id,num_of_items:1,add_ons:[],price:n.props.price};H.clientAddItemToCart(n.context.token,t).then((function(e){var t={client:n.context.clientId,restaurant:n.props.restaurant,dish:n.props.data,num_of_items:1,id:e.data.id,add_ons:[],price:n.props.price};n.context.addToCart(t),n.setState({counterVisible:!0})}))}else n.submit()}))},n.buttonHandlerRemove=function(){var e=n.context.cartItems.filter((function(e){return e.dish.id===n.props.id}));H.deleteItemFromCart(n.context.token,e[0].id).then((function(){n.setState({counterVisible:!1}),n.context.removeFromCart(e[0].id)}))},n.state={counterVisible:!1,addOns:[],finalAddOn:[]},n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({addOns:this.props.addOns})}},{key:"componentDidMount",value:function(){this.setState({counterVisible:this.props.presentInCart})}},{key:"render",value:function(){return r.a.createElement("div",{className:"dish"},r.a.createElement("img",{className:"image",src:this.props.img,alt:"dish"}),r.a.createElement("h5",{className:"name"},this.props.name),r.a.createElement("h6",{className:"description"},this.props.description),r.a.createElement("h5",{className:"price"},"FCFA ",this.props.price),!1===this.state.counterVisible?r.a.createElement("button",{className:"button",onClick:this.buttonHandler},r.a.createElement("span",{className:"btncon"},"ADD")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"buttonRemove",onClick:this.buttonHandlerRemove},r.a.createElement("span",{className:"btncon"},"Remove"))))}}]),a}(n.Component);xe.contextType=P;var ke=xe,je={getDishesByRestaurant:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/dish/list-restaurant-dishes/".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),getDishBySearch:function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("dish/get-dish-on-filter?search=".concat(t));case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Ae=a(392),Se=a(82),we=a(382),Ie=a(160),De=a.n(Ie),Te=a(371),Pe=a(386),_e=a(391);function Fe(e){return r.a.createElement(Pe.a,Object.assign({elevation:6,variant:"filled"},e))}function Re(e){var t=r.a.useState(0),a=Object(l.a)(t,2),n=a[0],s=a[1],i=r.a.useState(""),c=Object(l.a)(i,2),o=c[0],m=c[1],d=r.a.useState(!1),u=Object(l.a)(d,2),p=u[0],h=u[1],f=_().clientId,g=T().token,v=r.a.useState(!1),E=Object(l.a)(v,2),b=E[0],y=E[1],N=r.a.useState(!1),O=Object(l.a)(N,2),C=O[0],x=O[1],k=function(e,t){"clickaway"!==t&&y(!1)};return r.a.createElement("div",null,r.a.createElement(we.a,{component:"fieldset",mb:3,borderColor:"transparent"},r.a.createElement(Se.a,{component:"legend"},"Rating"),r.a.createElement("br",null),r.a.createElement(Ae.a,{name:"simple-controlled",value:n,onChange:function(e,t){s(t)}}),r.a.createElement("br",null),r.a.createElement(De.a,{"aria-label":"minimum height",rowsMin:3,placeholder:"Enter your reviews here",onChange:function(e){m(e.target.value)}}),r.a.createElement("br",null),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(t){t.preventDefault();var a={client:f,restaurant:e.id,points:n,comment:o};h(!0),R.giveRestaurantReview(g,a).then((function(){h(!1),y(!0)})).catch((function(){x(!0),h(!1)}))}},"Rate Us"),r.a.createElement("br",null),p?r.a.createElement(Te.a,{style:{marginTop:"10px"}}):null,r.a.createElement(_e.a,{open:b,autoHideDuration:4e3,onClose:k},r.a.createElement(Fe,{onClose:k,severity:"success"},"Thanks for Reviewing us")),r.a.createElement(_e.a,{open:C,autoHideDuration:4e3,onClose:function(){x(!1)}},r.a.createElement(Fe,{onClose:function(){x(!1)},severity:"error"},"You have already reviewed us. Thanks!"))))}var Be=a(28),Me=function(e){Object(N.a)(s,e);var t=Object(y.a)(s);function s(e){var a;return Object(E.a)(this,s),(a=t.call(this,e)).onCategoryFilter=function(e){a.setState({currentDishes:a.state.dishes[e],selectedCategory:e,categoryToggle:!0})},a.onSearchHandler=function(e){a.setState({categoryToggle:!0}),Object.entries(a.state.dishes).map((function(t){if(t[1].filter((function(a){var n=a.name.toLowerCase(),r=e.target.value.toLowerCase();return n.includes(r||t[0].toLowerCase())})).length>0)return a.setState({currentDishes:a.state.dishes[t[0]],selectedCategory:t[0]})}))},a.state={data:{},category:[],loading:!1,selectedCategory:"",dishes:{},currentDishes:[],categoryToggle:!1,cart:[],cartDishes:[]},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t="",e.next=4,R.getSpecificRestaurant(this.props.match.params.id).then((function(e){t=e.data[0].category[0].name,a.setState({data:e.data[0],category:e.data[0].category,selectedCategory:e.data[0].category[0].name,loading:!1})}));case 4:je.getDishesByRestaurant(this.props.match.params.id).then((function(e){var n=new Set;Object.entries(e.data).map((function(e){return e[1].map((function(e){return a.context.cartItems.map((function(t){return t.dish.id===e.id?n.add(e.id):void 0}))}))}));var r=Array.from(n);return a.setState({dishes:e.data,currentDishes:e.data[t],cartDishes:r})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e=this;return this.state.loading?null:r.a.createElement("div",{className:"restaurant-view-desk"},r.a.createElement(F,Object.assign({},this.props,{name:this.state.data.name})),r.a.createElement("div",{style:{paddingTop:"100px"}},r.a.createElement("div",{className:"restaurant-info"},r.a.createElement("img",{className:"restaurant-img",src:this.state.data.image,alt:"restaurant"}),r.a.createElement("div",{className:"restaurant-details"},r.a.createElement("h5",{className:"name"},this.state.data.name),this.state.data.is_open?"":r.a.createElement("div",{className:"unservicable"},"Restaurant Unservicable"),r.a.createElement("h6",{className:"types"},this.state.category.map((function(t,a){return a<e.state.category.length-1?t.name+",":t.name}))),r.a.createElement("div",{className:"features",style:{display:"flex",justifyContent:"space-between",marginTop:"20px",marginBottom:"10px",marginLeft:"20px",marginRight:"20px"}},r.a.createElement("div",{className:"rating"},r.a.createElement("img",{src:a(85),className:"star-icon",alt:"star"}),r.a.createElement("h6",{className:"rating-value"},this.state.data.rating)),r.a.createElement("div",{style:{display:"inline-block",color:"white",paddingLeft:"50px",paddingRight:"50px"}},"\u2022"),r.a.createElement("div",{className:"distance"},"1km"),r.a.createElement("div",{style:{display:"inline-block",color:"white",paddingLeft:"50px",paddingRight:"50px"}},"\u2022"),r.a.createElement("div",{className:"distance"},"32 min")),r.a.createElement("div",{className:"offersdesk"},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"offer-content"},"20% on all orders")),r.a.createElement("div",{className:"search-dish"},r.a.createElement("input",{className:"search",placeholder:"Search for some good dish",onChange:this.onSearchHandler}),r.a.createElement("div",{className:"search-icon"},r.a.createElement(Oe.a,null))))),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row"},r.a.createElement("div",{className:"categories col-2"},r.a.createElement("div",{className:"sidenav"},r.a.createElement("ul",{className:"items"},r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"item",onClick:function(){e.setState({categoryToggle:!1})}},"ALL"),Object.entries(this.state.dishes).map((function(t){return r.a.createElement(n.Fragment,{key:t[0]},r.a.createElement("li",{key:t[0],className:"item",onClick:function(){e.onCategoryFilter(t[0])}},t[0]))})))))),this.state.categoryToggle?r.a.createElement("div",{className:"dishes-view col-8"},r.a.createElement("h3",{className:"category-name"},this.state.selectedCategory," "),r.a.createElement("h5",{className:"category-desc"},this.state.currentDishes?this.state.currentDishes.length:"0"," dishes available"),r.a.createElement("div",{className:"dishes"},this.state.currentDishes?this.state.currentDishes.map((function(t){return r.a.createElement(ke,{restaurant:e.state.data,addOns:t.add_ons,addOnPresent:!0,presentInCart:e.state.cartDishes.includes(t.id),restId:e.props.match.params.id,data:t,key:t.id,id:t.id,price:t.price,name:t.name,img:Be.apiUrl+t.image,description:t.description})})):null)):r.a.createElement("div",{className:"dishes-view col-8"},Object.entries(this.state.dishes).map((function(t){return r.a.createElement(n.Fragment,{key:t[0]},r.a.createElement("h3",{className:"category-name"},t[0]),r.a.createElement("h5",{className:"category-desc"},t[1].length," dishes available"),r.a.createElement("div",{className:"dishes"},t[1].map((function(t){return e.state.cart.includes(t.id),r.a.createElement(ke,Object.assign({restaurant:e.state.data,addOns:t.add_ons,addOnPresent:!0,presentInCart:e.state.cartDishes.includes(t.id),restId:e.props.match.params.id,data:t,key:t.id},e.props,{price:t.price,name:t.name,id:t.id,img:Be.apiUrl+t.image,description:t.description}))}))))}))),r.a.createElement("div",{className:"dishes-view col-2"},r.a.createElement(Re,{id:this.props.match.params.id})),this.context.clientId?r.a.createElement(ce,Object.assign({},this.props,{cartItemsLength:this.context.cartItems.length,price:0})):null))))}}]),s}(n.Component);Me.contextType=P;var He=Me,Ye=(a(248),a(162)),Le=a(161),We=a(77),ze=a(163),Ue=a(164),Ve=(a(249),a(250),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"coupon"},r.a.createElement("div",{className:"nameview"},r.a.createElement(We.b,{size:30}),r.a.createElement("h4",{className:"name"},this.props.name),r.a.createElement("h6",{className:"description"},"Get ",this.props.discount,"% discount on ",this.props.categories.map((function(t,a){return a<e.props.categories.length-1?t.name+",":t.name}))," for all orders in this category of the restaurant"),r.a.createElement("p",{className:"tandc"},"*Terms and Conditions applied")),r.a.createElement("button",{className:"apply-button",onClick:function(){e.props.onApplyHandler()}},r.a.createElement("span",{className:"btncon"},"Apply")))}}]),a}(n.Component)),Qe=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],loading:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),R.getRestaurantPromoCodes(this.context.token,this.props.restId).then((function(t){e.setState({data:t.data,loading:!1})}))}},{key:"render",value:function(){var e=this,t=this.props.visible?"coupon-slider show":"coupon-slider hide";return r.a.createElement("div",{className:t},r.a.createElement("div",{className:"essential"},r.a.createElement(We.a,{size:20}),r.a.createElement("h5",{className:"number"},"Coupons"),r.a.createElement("div",{className:"close",onClick:this.props.handlerOpen},"x")),this.state.data.length>0?this.state.data.map((function(t){return r.a.createElement(Ve,Object.assign({key:t.id},e.props,{name:t.promocode,discount:t.discount_percentage,onApplyHandler:function(){e.props.discountApply(t.discount_percentage)},handlerOpen:e.props.handlerOpen,categories:t.category}))})):r.a.createElement("h6",{style:{textAlign:"center"}},"Sorry!No coupons found"))}}]),a}(n.Component);Qe.contextType=P;var Ge=Qe,qe=(a(251),a(373)),Xe=a(122),Je={card:{border:"solid 2px #52be80",flex:1,height:"19em",width:"19em"},map:{height:"18em",width:"18em",margin:"0.5em"}},Ke=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){var e;Object(E.a)(this,a);for(var n=arguments.length,r=new Array(n),s=0;s<n;s++)r[s]=arguments[s];return(e=t.call.apply(t,[this].concat(r))).onDragend=function(e,t,a){var n=a.latLng,r=n.lat(),s=n.lng();console.log(r),console.log(s)},e}return Object(b.a)(a,[{key:"render",value:function(){return r.a.createElement(qe.a,{style:Je.card},r.a.createElement(Xe.Map,{google:this.props.google,zoom:17,containerStyle:{height:"19rem",width:"19rem"},initialCenter:{lat:this.props.latitude,lng:this.props.longitude},style:Je.map},r.a.createElement(Xe.Marker,{onClick:this.onMarkerClick,draggable:!0,onDragend:this.props.onMarkerDrag,name:"Current location"})))}}]),a}(n.Component),Ze=Object(Xe.GoogleApiWrapper)({apiKey:"AIzaSyD3O7PvN7LlKEXJ0QxOEmXPR3GYAjaS8t0"})(Ke),$e=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).inputChangeHandler=function(e){var t=Object(c.a)({},n.state.formfield);t[e.target.name]=e.target.value,n.setState({formfield:t})},n.onMarkerDrag=function(e,t,a){var r=a.latLng,s=r.lat(),i=r.lng(),o=Object(c.a)({},n.state.formfield);o.latitude=s,o.longitude=i,n.setState({latitude:s,longitude:i,formfield:o})},n.state={data:[],loading:!1,formfield:{door:"",landmark:""},latitude:null,longitude:null},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this,t=this.props,a=t.handlerOpen,n=t.addressHandler,s=this.props.visible?"address-slider show":"address-slider hide";return r.a.createElement("div",{className:s},r.a.createElement("div",{className:"essential"},r.a.createElement(Le.b,{size:20}),r.a.createElement("h5",{className:"number"},"Add your location"),r.a.createElement("div",{className:"close",onClick:a},"x")),r.a.createElement(Ze,{latitude:this.context.latitude,longitude:this.context.longitude,onMarkerDrag:this.onMarkerDrag}),r.a.createElement("div",{className:"address-form"},r.a.createElement("form",{className:"form",method:"POST"},r.a.createElement("input",{className:"inputtext",onChange:this.inputChangeHandler,type:"text",name:"door",placeholder:"Door/Flat No."}),r.a.createElement("input",{className:"inputtext",onChange:this.inputChangeHandler,type:"text",name:"landmark",placeholder:"Landmark"}))),r.a.createElement("div",{className:"checkout",onClick:function(){n(e.state.formfield)}},r.a.createElement("span",{className:"checkouttxt"},"Add Address and Proceed")))}}]),a}(n.Component);$e.contextType=P;var et=$e,tt={createOrder:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.post("/orders/create-order",a,{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getClientOrders:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/orders/get-client-past-orders/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}(),getSpecificOrder:function(){var e=Object(k.a)(x.a.mark((function e(t,a){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,p.a.get("/orders/get-specific-order/".concat(a),{headers:{Authorization:"Bearer "+t}});case 2:return e.abrupt("return",e.sent);case 3:case"end":return e.stop()}}),e)})));return function(t,a){return e.apply(this,arguments)}}()},at=a(381);a(267);function nt(e){return r.a.createElement(Pe.a,Object.assign({elevation:6,variant:"filled"},e))}var rt=Object(Y.a)((function(e){return{root:{"& > *":{margin:e.spacing(1)}},avatar:{backgroundColor:Q.a[100],color:Q.a[600]},closeButton:{position:"absolute",right:e.spacing(1),top:e.spacing(1),color:e.palette.grey[500],marginLeft:"100px"}}}));var st=function(e){var t=rt(),n=r.a.useState(!1),s=Object(l.a)(n,2),i=s[0],c=s[1],o=r.a.useState(""),m=Object(l.a)(o,2),d=m[0],u=m[1],h=r.a.useState(""),f=Object(l.a)(h,2),g=f[0],v=f[1],E=r.a.useState(!1),b=Object(l.a)(E,2),y=b[0],N=b[1],O=r.a.useState(""),C=Object(l.a)(O,2),x=C[0],k=C[1],j=r.a.useState(null),A=Object(l.a)(j,2),S=A[0],w=A[1],I=e.onClose,D=e.open,T=e.finalPrice,P=function(){N(!0)},_=function(e,t){"clickaway"!==t&&N(!1)};return r.a.createElement(r.a.Fragment,null,r.a.createElement(V.a,{onClose:function(){},"aria-labelledby":"simple-dialog-title",open:D},r.a.createElement(X.a,{"aria-label":"close",className:t.closeButton,onClick:I},r.a.createElement(q.a,{size:10})),r.a.createElement(U.a,{id:"simple-dialog-title",style:{fontWeight:"bold",marginRight:"30px"}},"Payment By ",e.service),r.a.createElement(J.a,null),r.a.createElement(at.a,{id:"outlined-basic",label:"Enter your mobile number",placeholder:"Enter number after +237",required:!0,variant:"outlined",style:{margin:"20px"},onChange:function(e){v(e.target.value)}}),r.a.createElement("div",{className:"payment-modes"},r.a.createElement("h4",{className:"price"},"Amount - FCFA ",r.a.createElement("span",{style:{color:"#52be80"}},T))),"phone"===e.mode?r.a.createElement(r.a.Fragment,null,r.a.createElement("h6",{style:{textAlign:"center"}},"Choose your payment method"),r.a.createElement("div",{className:"payment-modes"},r.a.createElement(Z.a,{className:"mode1",onClick:function(){w("ORANGE")}},r.a.createElement("img",{src:a(152),alt:"orange-money",className:"payment-image"})),r.a.createElement(Z.a,{className:"mode2",onClick:function(){w("MTN")}},r.a.createElement("img",{src:a(153),alt:"mtn-money",className:"payment-image"})))):null,i&&r.a.createElement("h6",{style:{textAlign:"center",color:"red"}},d),r.a.createElement(Z.a,{variant:"contained",color:"primary",onClick:function(){""===g&&(c(!0),u("*Please enter your mobile number")),I(),Object(Ce.confirmAlert)({title:"Are you sure you want to pay FCFA ".concat(T),message:"",buttons:[{label:"Yes",onClick:function(){var t={service:"phone"===e.mode?S:e.service,amount:T,payer:"237"+g,reference:"For food order",fees:!0,message:"MBOA services",code:"6317afa1c5d4e73395d2e52ffc06eb4e5a9468a3"};p.a.post("https://mesomb.hachther.com/api/v1.0/payment/online/",t,{headers:{"X-MeSomb-Application":"6317afa1c5d4e73395d2e52ffc06eb4e5a9468a3"}}).then((function(t){!1===t.data.success?(P(),k("Payment Unsuccessful!")):e.createOrder()})).catch((function(e){console.log(e.response.data),k(e.response.data.detail),P()}))}},{label:"No",onClick:function(){k("Payment Unsuccessful!"),P()}}]})},style:{height:45}},"Pay")),r.a.createElement(_e.a,{open:y,autoHideDuration:6e3,onClose:_},r.a.createElement(nt,{onClose:_,severity:"error"},x)))},it=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).handleClickPaymentOpenOrange=function(){a.setState({payment_modal:!0,service:"ORANGE"})},a.handleClickPaymentOpenMTN=function(){a.setState({payment_modal:!0,service:"MTN"})},a.handlePaymentClose=function(e){a.setState({payment_modal:!1})},a.handlerOpen=function(e){e.stopPropagation(),a.setState({coupon_active:!a.state.coupon_active})},a.handlerOpen1=function(){a.setState({coupon_active:!0})},a.handlerOpenAddress=function(){a.setState({addressSlider:!a.state.addressSlider})},a.handlerOpen1Address=function(){a.setState({addressSlider:!0})},a.addressHandler=function(e){var t=Object(o.a)(a.state.address);t.push(e),a.setState({address:t,addressSlider:!1})},a.setCoordinates=function(e,t){a.setState({latitude:e,longitude:t})},a.createOrder=function(){var e=[];if(a.context.cartItems.map((function(t){return e.push({dish:t.dish.id,quantity:t.num_of_items,add_ons:t.add_ons})})),a.state.address.length>0){var t={order:{restaurant:a.context.restaurant.id,client:a.context.clientId,payment_method:"Online Payment",total_amount:a.state.finalPrice,latitude:a.state.address[a.state.address.length-1].latitude,longitude:a.state.address[a.state.address.length-1].longitude,client_address_details:a.state.address[a.state.address.length-1].door+","+a.state.address[a.state.address.length-1].landmark},dishes:e};console.log(t),tt.createOrder(a.context.token,t).then((function(e){a.props.history.push("/orders"),a.context.setProductCart([]),a.context.setFinalPrice(0)}))}else a.handlerOpenAddress()},a.orangeMoney=function(){},a.mtnMoney=function(){a.setState({service:"MTN"})},a.discountApply=function(e){var t=a.state.finalPrice;a.setState({finalPrice:t-e/100*t,discount_applied:!0,coupon_active:!1})},a.removeCouponHandler=function(){var e=a.context.finalPrice;a.setState({finalPrice:e,discount_applied:!1})},a.setFinalPriceData=function(e){a.setState({finalPrice:e})},a.state={clientData:{},cartItems:[],coupon_active:!1,restaurant:{},addressSlider:!1,address:[],payment_modal:!1,service:null,Client:null,finalPrice:null,discount_applied:!1},a}return Object(b.a)(n,[{key:"componentWillMount",value:function(){this.setState({finalPrice:this.context.finalPrice})}},{key:"componentDidMount",value:function(){var e=this;H.getSpecificClient(this.context.token,this.context.clientId).then((function(t){e.setState({clientData:t.data[0].user})})),H.getClientCart(this.context.token,this.context.clientId).then((function(t){if(t.data.length>0){var a=0;t.data.map((function(e){a+=e.price})),e.setState({cartItems:t.data,finalPrice:a})}})).then((function(e){}))}},{key:"render",value:function(){var e,t=this;return this.state.coupon_active&&(e=r.a.createElement(Ge,Object.assign({},this.props,{restId:this.context.restaurant.id,visible:this.state.coupon_active,discountApply:this.discountApply,handlerOpen1:this.handlerOpen1,handlerOpen:this.handlerOpen}))),this.state.addressSlider&&(e=r.a.createElement(et,Object.assign({addressHandler:function(e){t.addressHandler(e)}},this.props,{restId:this.context.restaurant.id,visible:this.state.addressSlider,handlerOpen1:this.handlerOpen1Address,handlerOpen:this.handlerOpenAddress}))),r.a.createElement("div",{className:"cartscreen"},r.a.createElement(F,Object.assign({name:"Cart"},this.props)),r.a.createElement("div",{className:"App-header",style:{paddingTop:"75px"}},r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"row",style:{marginTop:"50px",marginBottom:"50px"}},r.a.createElement("div",{className:"col-8"},r.a.createElement("div",{className:"profile"},r.a.createElement("div",{className:"profile-icon"},r.a.createElement(Ye.a,null)),r.a.createElement("h4",{className:"name"},this.state.clientData.name),r.a.createElement("h6",{className:"text"},this.state.clientData.mobile),r.a.createElement("h6",{className:"text"},this.state.clientData.email)),r.a.createElement("div",{className:"delivery"},r.a.createElement("div",{className:"profile-icon"},r.a.createElement(Le.b,null)),r.a.createElement("h4",{className:"heading"},"Add a delivery address"),r.a.createElement("h6",{className:"text"},"We will try our best to serve you faster"),0===this.state.address.length?r.a.createElement("div",{className:"button-order",onClick:function(){t.setState({addressSlider:!0})}},r.a.createElement("span",{className:"btn-con"},"Add Address")):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"address-data"},r.a.createElement("h6",{className:"main"},"Test Address"),r.a.createElement("h6",{className:"door"},this.state.address[this.state.address.length-1].door),r.a.createElement("h6",{className:"landmark"},this.state.address[this.state.address.length-1].landmark)),r.a.createElement("div",{className:"change",onClick:function(){t.setState({addressSlider:!0})}},"Change"))),r.a.createElement("div",{className:"payment"},r.a.createElement("div",{className:"profile-icon"},r.a.createElement(I.b,null)),r.a.createElement("h4",{className:"heading"},"Payment"),r.a.createElement("h5",{className:"pay-amount",style:{color:"#52be80"}},"Pay ",this.state.finalPrice),r.a.createElement("h6",null,"Choose your payment method"),r.a.createElement("div",{className:"payment-modes"},r.a.createElement(Z.a,{className:"mode1",onClick:this.handleClickPaymentOpenOrange},r.a.createElement("img",{src:a(152),alt:"orange-money",className:"payment-image"})),r.a.createElement(Z.a,{className:"mode2",onClick:this.handleClickPaymentOpenMTN},r.a.createElement("img",{src:a(153),alt:"mtn-money",className:"payment-image"})))),r.a.createElement(st,Object.assign({},this.props,{service:this.state.service,finalPrice:this.state.finalPrice,createOrder:this.createOrder,open:this.state.payment_modal,onClose:this.handlePaymentClose})),r.a.createElement("div",{className:"disclaimer"},r.a.createElement("div",{className:"profile-icon"},r.a.createElement(We.c,null)),r.a.createElement("h6",{className:"heading"},"Please ensure that your address and order details are correct. There can be a delivery charge to keep our delivery partners happy"))),r.a.createElement("div",{className:"col-4 cart-side"},r.a.createElement("div",{className:"rest-profile"},r.a.createElement("img",{src:this.context.restaurant.image,className:"rest-img",alt:"restaurant"}),r.a.createElement("h6",{className:"heading",onClick:function(){t.props.history.push("/restaurant/".concat(t.context.restaurant.id," "))}},this.context.restaurant.name),r.a.createElement("h6",{className:"address"},this.context.restaurant.address)),r.a.createElement("hr",{width:"80%"}),r.a.createElement("div",{className:"cart-items"},this.context.cartItems.map((function(e){return r.a.createElement(ne,{key:e.id,id:e.id,add_ons:e.dish.add_ons,setFinalPriceData:t.setFinalPriceData,name:e.dish.name,finalPrice:e.price,price:e.dish.price,num_of_items:e.num_of_items})}))),this.state.discount_applied?r.a.createElement("div",{className:"apply-coupon"},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"text"},"Discount Applied"),r.a.createElement("div",{className:"arrow",onClick:this.removeCouponHandler},r.a.createElement(ze.a,null))):r.a.createElement("div",{className:"apply-coupon",onClick:this.handlerOpen},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"text"},"APPLY COUPON"),r.a.createElement("div",{className:"arrow"},r.a.createElement(Ue.b,null))),e,r.a.createElement("hr",{width:"100%",color:"grey"}),r.a.createElement("div",{className:"payment-details"},r.a.createElement("h6",{className:"main-text"},"Bill Details"),r.a.createElement("div",{className:"price-details"},r.a.createElement("h6",{className:"text"},"Item Total"),r.a.createElement("h6",{className:"price"},"FCFA ",this.state.finalPrice)),r.a.createElement("hr",{width:"80%",color:"grey",height:"2px"}),r.a.createElement("div",{className:"price-details"},r.a.createElement("h6",{className:"texttotal"},"Total Price"),r.a.createElement("h6",{className:"pricetotal"},"FCFA ",this.state.finalPrice))))))))}}]),n}(n.Component);it.contextType=P;var ct=it,ot=(a(268),a(81)),lt=(a(271),function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).buttonHandler=function(){var e={client:a.context.clientId,restaurant:a.props.restId};if(0===a.context.cartItems.length){var t={client:a.context.clientId,restaurant:a.props.restId,dish:a.props.id,num_of_items:1,price:a.props.price,add_ons:[]};H.clientAddItemToCart(a.context.token,t).then((function(e){var t={client:a.context.clientId,restaurant:a.props.restaurant,dish:a.props.data,num_of_items:1,id:e.data.id,price:a.props.price,add_ons:[]};a.context.addToCart(t),a.setState({counterVisible:!0})}))}else H.checkRestaurantCart(a.context.token,e).then((function(e){if(e.data.is_restaurant_same){var t={client:a.context.clientId,restaurant:a.props.restId,dish:a.props.id,num_of_items:1,price:a.props.price,add_ons:[]};H.clientAddItemToCart(a.context.token,t).then((function(e){var t={client:a.context.clientId,restaurant:a.props.restaurant,dish:a.props.data,num_of_items:1,id:e.data.id,price:a.props.price,add_ons:[]};a.context.addToCart(t),a.setState({counterVisible:!0})}))}else a.submit()}))},a.buttonHandlerRemove=function(){var e=a.context.cartItems.filter((function(e){return e.dish.id===a.props.id}));console.log(e),H.deleteItemFromCart(a.context.token,e[0].id).then((function(){a.setState({counterVisible:!1}),a.context.removeFromCart(e[0].id)}))},a.submit=function(){Object(Ce.confirmAlert)({title:"Items already in cart",message:"Your cart contains items from other restaurant. Would you like to reset your cart for adding items from this restaurant?",buttons:[{label:"Yes",onClick:function(){a.context.setProductCart([]),a.context.setFinalPrice(0,"zero");var e={client:a.context.clientId,restaurant:a.props.restId,dish:a.props.id,num_of_items:1,price:a.props.price,add_ons:[]};H.clientAddItemToCart(a.context.token,e).then((function(e){var t={client:a.context.clientId,restaurant:a.props.restaurant,dish:a.props.data,num_of_items:1,id:e.data.id,price:a.props.price,add_ons:[]};a.context.addToCart(t),a.setState({counterVisible:!0})}))}},{label:"No",onClick:function(){return console.log("No")}}]})},a.state={counterVisible:!1,addOns:[]},a}return Object(b.a)(n,[{key:"componentWillMount",value:function(){this.setState({addOns:this.props.addOns})}},{key:"componentDidMount",value:function(){this.setState({counterVisible:this.props.presentInCart})}},{key:"render",value:function(){var e={rating:{backgroundColor:this.props.restaurant.rating>=0&&this.props.restaurant.rating<2?"#d9534f":this.props.restaurant.rating>=2&&this.props.restaurant.rating<3.5?"#db7c38":"#48c479",width:"48px",padding:"0px 5px",fontWeight:400,height:"22px",display:"inline-block",borderBottom:"1px solid #e9e9eb",borderRadius:"20px"}};return r.a.createElement("div",{className:"dishsearch"},r.a.createElement("div",{className:"restaurantsearch"},r.a.createElement(m.b,{to:"/restaurant/".concat(this.props.restaurant.id)},r.a.createElement("p",{className:"name"},this.props.restaurant.name)),r.a.createElement("div",{className:"features",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("div",{className:"rating",style:e.rating},r.a.createElement("img",{src:a(85),className:"star-icon",alt:"star"}),r.a.createElement("h6",{className:"rating-value"},this.props.restaurant.rating)),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"1km"),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"32 min")),r.a.createElement("div",{className:"offers"},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"offer-content"},"20% on all orders"))),r.a.createElement("div",{className:"row dishsearch"},r.a.createElement("div",{className:"image"},r.a.createElement("img",{className:"image",src:this.props.image,alt:"dish"})),r.a.createElement("div",{className:"details"},r.a.createElement("h5",{className:"name"},this.props.name),r.a.createElement("h6",{className:"price"},"FCFA ",this.props.price)),r.a.createElement("div",{className:"col-3 counter"},!1===this.state.counterVisible?r.a.createElement("button",{className:"button",onClick:this.buttonHandler},r.a.createElement("span",{className:"btncon"},"ADD")):r.a.createElement("button",{className:"buttonRemove",onClick:this.buttonHandlerRemove},r.a.createElement("span",{className:"btncon"},"Remove")))))}}]),n}(n.Component));lt.contextType=P;var mt=lt,dt=function(){return r.a.createElement("div",{className:"row"},Array(9).fill().map((function(e,t){return r.a.createElement("div",{className:"col-xs-12 col-sm-9 col-md-6 col-lg-4",key:t},r.a.createElement(oe.a,{height:180}),r.a.createElement("h4",{className:"card-title"},r.a.createElement(oe.a,{circle:!0,height:50,width:50})," \xa0",r.a.createElement(oe.a,{height:36,width:"80%"})),r.a.createElement("p",{className:"card-channel"},r.a.createElement(oe.a,{width:"60%"})),r.a.createElement("div",{className:"card-metrics"},r.a.createElement(oe.a,{width:"90%"})))})))},ut=function(){return r.a.createElement(r.a.Fragment,null,Array(9).fill().map((function(e,t){return r.a.createElement(r.a.Fragment,null,r.a.createElement(oe.a,{height:180,width:"100%"}),r.a.createElement(oe.a,{circle:!0,height:50,width:"100%"})," \xa0",r.a.createElement(oe.a,{height:36,width:"80%"}),r.a.createElement(oe.a,{width:"100%"}),r.a.createElement(oe.a,{width:"100%"}))})))},pt=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).restaurantSearcHandler=function(){var e=Object(k.a)(x.a.mark((function e(t){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n.setState({loading:!0}),e.next=3,R.getRestaurants(t.target.value).then((function(e){n.setState({restaurants:e.data,searched:!0,loading:!1})}));case 3:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),n.dishChangeHandler=function(e){n.setState({loading:!0}),je.getDishBySearch(e.target.value).then((function(e){n.setState({dishes:e.data,searched:!0,loading:!1})}))},n.state={selectedTab:"Restaurant",restaurants:[],searched:!1,dishes:[],responseText:"",loading:!1},n}return Object(b.a)(a,[{key:"render",value:function(){var e,t=this,a=this.state.restaurants.map((function(e){return r.a.createElement("div",{className:"col-xs-12 col-sm-9 col-md-6 col-lg-4 restaurant-card"},r.a.createElement(O,Object.assign({key:e.id},t.props,{id:e.id,name:e.name,categories:e.category,src:e.image,rating:e.rating})))})),n=this.state.dishes.map((function(e){return r.a.createElement(mt,{presentInCart:t.context.cartItems.filter((function(t){return t.dish.id===e.id})).length>0,restId:e.restaurant.id,addOns:e.add_ons,key:e.id,id:e.id,data:e,name:e.name,description:e.description,price:e.price,image:e.image,restaurant:e.restaurant})}));return this.state.loading&&(a=r.a.createElement(dt,null),n=r.a.createElement(ut,null)),e="Restaurant"===this.state.selectedTab?r.a.createElement(r.a.Fragment,null,this.state.searched?r.a.createElement("h5",{style:{textAlign:"center",alignContent:"center"}},this.state.restaurants.length>0?"".concat(this.state.restaurants.length," restaurants found."):"No restaurants found."):null,r.a.createElement("div",{className:"row"},a)):r.a.createElement(r.a.Fragment,null,this.state.searched?r.a.createElement("h5",{style:{textAlign:"center",alignContent:"center"}},this.state.dishes.length>0?"".concat(this.state.dishes.length," dishes found."):"No dishes found."):null,r.a.createElement("div",{className:"row"},n)),r.a.createElement("div",{className:"search-screen-desk"},r.a.createElement(F,Object.assign({name:"Search"},this.props)),r.a.createElement("div",{className:"container"},r.a.createElement("div",{className:"search"},r.a.createElement("div",{className:"search-tabs"},r.a.createElement("h4",{className:"search-tab1",onClick:function(){t.setState({selectedTab:"Restaurant"})}},"Restaurant"),r.a.createElement("h4",{className:"search-tab2",onClick:function(){t.setState({selectedTab:"Dish"})}},"Dish")),r.a.createElement(Oe.c,{size:35,className:"searchicon"}),"Restaurant"===this.state.selectedTab?r.a.createElement(ot.DebounceInput,{className:"search-desk",minLength:2,debounceTimeout:200,placeholder:"Search for Restaurant all around you",onChange:this.restaurantSearcHandler}):r.a.createElement(ot.DebounceInput,{className:"search-desk",minLength:2,debounceTimeout:200,placeholder:"Search for your favourite Dishes",onChange:this.dishChangeHandler}),e)),this.context.clientId?r.a.createElement(ce,Object.assign({},this.props,{cartItemsLength:this.context.cartItems.length,price:0})):null)}}]),a}(n.Component);pt.contextType=P;var ht=pt,ft=a(376),gt=a(375),vt=a(117),Et=a(384),bt=a(374),yt=a(165),Nt=a.n(yt),Ot=(a(276),a(31)),Ct=a.n(Ot),xt=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"order-item"},r.a.createElement("div",{className:"essential-info"},r.a.createElement("div",{className:"restaurant-info"},r.a.createElement("img",{className:"image",src:this.props.restaurant.image,alt:"restaurantimage"}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"name"},this.props.restaurant.name),r.a.createElement("h6",{className:"address"},this.props.restaurant.address),r.a.createElement("h6",{className:"order"},"ORDER #",this.props.id," | ",Ct()(this.props.created).format("ddd, MMM DD, YYYY, hh:mm A")),r.a.createElement("h5",{className:"view-details",onClick:function(){e.props.handleClick()}},"View Details"))),r.a.createElement("div",{className:"status"},"Invalid Date"===Ct()(this.props.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")?"Delivered on "+Ct()(this.state.data.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")==="Invalid Date":"Will be delivered soon")),r.a.createElement("hr",{width:"90%",height:2,striped:!0}),r.a.createElement("div",{className:"items-info"},r.a.createElement("div",{className:"items"},r.a.createElement("h6",null,this.props.dishes.map((function(t,a){return a<e.props.dishes.length-1?t.dish.name+" x "+t.quantity+",":t.dish.name+" x "+t.quantity})))),r.a.createElement("div",{className:"paid"},"Total Paid: ",r.a.createElement("strong",null,"FCFA ",this.props.price))),r.a.createElement("h6",{style:{color:"#52be80"}},"* To view order status click on View Details"))}}]),a}(n.Component),kt=(a(278),a(69)),jt=a(175),At=a(170),St=a.n(At),wt=r.a.createContext({invigilator:null,clientIf:null,setInvigilator:function(e){}});var It=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={Client1:null,Client2:null,messageList:[],invigilator:null},n}return Object(b.a)(a,[{key:"componentDidUpdate",value:function(e){e.invigilator!==this.state.invigilator&&this.setState({invigilator:e.invigilator})}},{key:"componentWillMount",value:function(){var e=this.context,t=e.invigilator,a=e.clientId;this.setState({Client1:new kt.w3cwebsocket("".concat(Be.wsUrl,"/invigilator/chat/").concat(t,"_").concat(a)),Client2:new kt.w3cwebsocket("".concat(Be.wsUrl,"/invigilator/chat/").concat(t,"/Client"))})}},{key:"componentDidMount",value:function(){var e=this,t=this.context,a=t.invigilator,n=t.clientId,r=this.state,s=r.Client1,i=r.Client2;p.a.get("/invigilator/get-invigilator-client-chat/".concat(a,"/").concat(n)).then((function(t){var a=[];t.data.results.map((function(e){var t;return t="Invigilator"===e.message_from?"them":"me",a.push({author:t,type:"text",data:{text:e.message}})})),e.setState({messageList:a.reverse()})})),s.onopen=function(){console.log("Hey i will be interacting")},i.onopen=function(){},s.onmessage=function(t){var a=Object(o.a)(e.state.messageList),n=JSON.parse(t.data);if("Invigilator"===n.from){var r={author:"them",type:"text",data:{text:n.message}};a.push(r)}else"me";e.setState({messageList:a})}}},{key:"_onMessageWasSent",value:function(e){var t=this.state,a=t.Client1,n=t.Client2;a.send(JSON.stringify({message:e.data.text,from:"Client",client:this.context.clientId,invigilator:"1"})),n.send(JSON.stringify({message:e.data.text,from:"Client",client:this.context.clientId,invigilator:"1",order_id:this.props.order})),this.setState({messageList:[].concat(Object(o.a)(this.state.messageList),[e])})}},{key:"componentWillUnmount",value:function(){this.state.Client1.onclose=function(e){console.log(e)}}},{key:"_sendMessage",value:function(e){e.length>0&&this.setState({messageList:[].concat(Object(o.a)(this.state.messageList),[{author:"them",type:"text",data:{text:e}}])})}},{key:"render",value:function(){return r.a.createElement("div",null,r.a.createElement(jt.a,{agentProfile:{teamName:"Help | Contact Us",imageUrl:St.a},onMessageWasSent:this._onMessageWasSent.bind(this),messageList:this.state.messageList,showEmoji:!1}))}}]),a}(n.Component);It.contextType=wt;var Dt=It,Tt=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).setInvigilator=function(e){n.setState({invigilator:e})},n.state={data:{},loading:!1,dishes:[],restaurant:{},status:"Will be Updated Soon",Client:null,currentId:null,invigilator:null},n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({Client:new kt.w3cwebsocket("".concat(Be.wsUrl,"/orders/update-get-order-status/").concat(this.props.currentId))})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.Client;this.setState({loading:!0,currentId:this.props.currentId}),t.onopen=function(){console.log("Hey i am interacting")},t.onmessage=function(t){e.setState({status:t.data})},t.onerror=function(e){console.log("Connection error: "+e)},tt.getSpecificOrder(this.context.token,this.props.currentId).then((function(t){e.setState({data:t.data[0],dishes:t.data[0].dishes,restaurant:t.data[0].restaurant,invigilator:t.data[0].invigilator.id,loading:!1})}))}},{key:"UNSAFE_componentWillReceiveProps",value:function(e){var t=this,a=this.state.Client;e.currentId!==this.state.currentId&&(this.setState({loading:!0}),a.onmessage=function(e){t.setState({status:e.data})},a.onerror=function(e){console.log("Connection error: "+e)},tt.getSpecificOrder(this.context.token,e.currentId).then((function(e){t.setState({data:e.data[0],dishes:e.data[0].dishes,restaurant:e.data[0].restaurant,loading:!1})})))}},{key:"componentWillUnmount",value:function(){this.state.Client.onclose=function(e){console.log(e)}}},{key:"render",value:function(){var e=this.props.visible?"order-slider show":"order-slider hide";return r.a.createElement(wt.Provider,{value:{invigilator:this.state.invigilator,clientId:this.context.clientId,setInvigilator:this.setInvigilator}},r.a.createElement("div",{className:e},r.a.createElement("div",{className:"essential"},r.a.createElement(I.d,{size:20}),r.a.createElement("h5",{className:"number"},r.a.createElement("span",{style:{color:"#212121"}},"Order Id")," #",this.props.currentId," "),r.a.createElement("div",{className:"close",onClick:this.props.handlerOpen},"x")),r.a.createElement("div",{className:"main-status"},this.state.status.toUpperCase()),r.a.createElement("div",{className:"restaurant-info"},r.a.createElement(Oe.b,{size:25}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"name"},this.state.restaurant.name),r.a.createElement("h6",{className:"address"},this.state.restaurant.address))),r.a.createElement("div",{className:"address-info"},r.a.createElement(Oe.b,{style:{height:25,width:25}}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"name"},"Address"),r.a.createElement("h6",{className:"address"},this.state.data.client_address_details))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"address"},r.a.createElement("div",{className:"info"},r.a.createElement("h6",{className:"status"},"Invalid Date"===Ct()(this.state.data.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")?"Delivered on "+Ct()(this.state.data.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")==="Invalid Date":"Will be delivered soon"))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"items"},r.a.createElement("h6",{className:"number"},this.state.dishes.length," items"),r.a.createElement("ul",{className:"items-list"},this.state.dishes.map((function(e){return r.a.createElement("li",{className:"item"},r.a.createElement("h6",{className:"name"},e.dish.name," x ",e.quantity," "),r.a.createElement("h6",{className:"price"},"FCFA ",e.dish.price*e.quantity))})))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"bill-details"},r.a.createElement("h5",{className:"number"},"Bill Details"),r.a.createElement("div",{className:"item-total"},r.a.createElement("h6",{className:"heading"},"Item Total"),r.a.createElement("h6",{className:"price"},"FCFA ",this.state.data.total_amount)),r.a.createElement("div",{className:"item-total"},r.a.createElement("h6",{className:"heading"},"Coupon Discount"),r.a.createElement("h6",{className:"price"},"FCFA ",this.state.data.total_amount))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"total-price"},r.a.createElement("div",null,r.a.createElement("h6",{className:"heading-total"},"Total Price"),r.a.createElement("p",{className:"mode"},"Paid via ",this.state.data.payment_method)),r.a.createElement("h6",{className:"heading",style:{color:"#52be80"}},"FCFA ",this.state.data.total_amount)),null!==this.state.invigilator?r.a.createElement(Dt,{order:this.props.currentId}):null))}}]),a}(n.Component);Tt.contextType=P;var Pt=Tt;function _t(e){var t=e.children,a=e.value,n=e.index,s=Object(vt.a)(e,["children","value","index"]);return r.a.createElement("div",Object.assign({role:"tabpanel",hidden:a!==n,id:"vertical-tabpanel-".concat(n),"aria-labelledby":"vertical-tab-".concat(n)},s),a===n&&r.a.createElement(we.a,{p:3},r.a.createElement(Se.a,null,t)))}function Ft(e){return{id:"vertical-tab-".concat(e),"aria-controls":"vertical-tabpanel-".concat(e)}}var Rt=Object(Y.a)((function(e){return{root:{flexGrow:1,backgroundColor:e.palette.background.paper,display:"flex",height:"auto"},tabs:{borderRight:"1px solid ".concat(e.palette.divider)}}}));function Bt(e){var t=Rt(),a=r.a.useState(0),s=Object(l.a)(a,2),i=s[0],c=s[1],o=r.a.useState(!1),m=Object(l.a)(o,2),d=m[0],u=m[1],p=r.a.useState([]),h=Object(l.a)(p,2),f=h[0],g=h[1],v=r.a.useState(!1),E=Object(l.a)(v,2),b=E[0],y=E[1],N=r.a.useState(null),O=Object(l.a)(N,2),C=O[0],x=O[1],k=_().clientId,j=T().token;Object(n.useEffect)((function(){y(!0),tt.getClientOrders(j,k).then((function(e){g(e.data),y(!1)}))}),[k]);var A,S;return d&&(A=r.a.createElement(Pt,Object.assign({},e,{currentId:C,visible:d,handlerOpen1:function(){u(!1)},handlerOpen:function(e){e.stopPropagation(),u(!1)}}))),S=b?r.a.createElement(Nt.a,{color:"#52be80"}):r.a.createElement("div",{className:"orders"},f.map((function(e){return r.a.createElement(xt,{price:e.total_amount,created:e.created,id:e.id,dishes:e.dishes,restaurant:e.restaurant,delivered_time:e.created,handleClick:function(){x(e.id),u(!0)}})}))),r.a.createElement("div",{className:t.root},r.a.createElement(Et.a,{orientation:"vertical",variant:"scrollable",value:i,onChange:function(e,t){c(t)},"aria-label":"Vertical tabs example",className:t.tabs},r.a.createElement(bt.a,Object.assign({className:t.tab,label:"Orders"},Ft(0))),r.a.createElement(bt.a,Object.assign({className:t.tab,label:"Addresses"},Ft(1)))),A,r.a.createElement(_t,{value:i,index:0},r.a.createElement(Se.a,{component:"h4",variant:"h4"},"Orders"),S),r.a.createElement(_t,{value:i,index:2},r.a.createElement(Se.a,{component:"h4",variant:"h4"},"Addresses")))}var Mt=Object(Y.a)((function(e){var t;return{icon:{marginRight:e.spacing(2)},heroContent:{backgroundColor:e.palette.primary.main,padding:e.spacing(8,0,6)},heroButtons:{marginTop:e.spacing(4)},cardGrid:{paddingTop:e.spacing(8),paddingBottom:e.spacing(8)},card:{height:"100%",display:"flex",flexDirection:"column"},cardMedia:{paddingTop:"56.25%"},cardContent:{flexGrow:1},footer:{backgroundColor:e.palette.background.paper,padding:e.spacing(6)},search:(t={position:"relative",borderRadius:e.shape.borderRadius,marginLeft:0,width:"100%"},Object(fe.a)(t,e.breakpoints.up("sm"),{marginLeft:e.spacing(1),width:"auto"}),Object(fe.a)(t,"backgroundColor","white"),Object(fe.a)(t,"height",40),Object(fe.a)(t,"marginBottom",10),Object(fe.a)(t,"textIndent",10),Object(fe.a)(t,"paddingTop",4),t),searchIcon:{height:"100%",position:"absolute",right:"0px",pointerEvents:"none",paddingTop:5,paddingRight:10},inputInput:Object(fe.a)({paddingLeft:"calc(1em + ".concat(e.spacing(4),"px)"),transition:e.transitions.create("width"),width:"100%"},e.breakpoints.up("sm"),{width:"12ch","&:focus":{width:"20ch"}}),inputRoot:{color:"inherit"}}}));function Ht(e){var t=Mt(),a=Object(n.useState)({}),s=Object(l.a)(a,2),i=s[0],c=s[1],o=_().clientId,m=T().token;return Object(n.useEffect)((function(){H.getSpecificClient(m,o).then((function(e){c(e.data[0].user)}))}),[o]),r.a.createElement(r.a.Fragment,null,r.a.createElement(F,Object.assign({},e,{name:"Orders"})),r.a.createElement("main",{style:{backgroundColor:"white",paddingTop:"60px"}},r.a.createElement("div",{className:t.heroContent},r.a.createElement(gt.a,{maxWidth:"sm"},r.a.createElement(Se.a,{component:"h2",variant:"h3",align:"center",style:{color:"white"},gutterBottom:!0},i.name),r.a.createElement(Se.a,{variant:"h5",align:"center",color:"textSecondary",style:{color:"white"},paragraph:!0},i.mobile+" | "+i.email))),r.a.createElement(gt.a,{className:t.cardGrid,maxWidth:"lg"},r.a.createElement(ft.a,{xs:12,sm:12,md:12,lg:12},r.a.createElement(Bt,e)))))}var Yt=a(377),Lt=(a(300),function(e){return r.a.createElement("section",{className:"bottom-navigation position-fixed"},r.a.createElement("div",{className:"holder d-flex align-items-center justify-content-around"},r.a.createElement("div",{className:"nav-option",onClick:function(){e.history.push("/")}},r.a.createElement(Le.a,null),r.a.createElement("p",{className:"nav-name"},"Home")),r.a.createElement("div",{className:"nav-option",onClick:function(){e.history.push("/cart")}},r.a.createElement(w.c,null),r.a.createElement("p",{className:"nav-name"},"Cart")),r.a.createElement("div",{className:"nav-option center",onClick:function(){e.history.push("/search")}},r.a.createElement("div",{className:"position-absolute"},r.a.createElement(ze.b,{className:"search-icon"}),r.a.createElement("p",{className:"nav-name-search"},"Search"))),r.a.createElement("div",{className:"nav-option",onClick:function(){e.history.push("/orders")}},r.a.createElement(Yt.b,null),r.a.createElement("p",{className:"nav-name"},"Orders")),r.a.createElement(m.b,{to:"/account",onClick:function(){e.history.push("/account")}},r.a.createElement("div",{className:"nav-option"},r.a.createElement(I.c,null),r.a.createElement("p",{className:"nav-name"},"Profile")))))}),Wt=(a(301),a(302),function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(){return Object(E.a)(this,n),t.apply(this,arguments)}return Object(b.a)(n,[{key:"render",value:function(){var e=this,t={rating:{backgroundColor:this.props.rating>=0&&this.props.rating<2?"#d9534f":this.props.rating>=2&&this.props.rating<3.5?"#db7c38":"#48c479",width:"48px",padding:"0px 5px",fontWeight:400,height:"22px",display:"inline-block",borderBottom:"1px solid #e9e9eb",borderRadius:"20px"}};return r.a.createElement("div",{className:"restaurantmob",onClick:function(){e.props.history.push("/restaurant/".concat(e.props.id))}},r.a.createElement("img",{src:this.props.src,className:"image ml-auto",alt:"restaurant"}),r.a.createElement("div",{className:"details"},r.a.createElement("p",{className:"name"},this.props.name),r.a.createElement("p",{className:"types"},this.props.categories.map((function(e,t){return t<3?e.name+",":3===t?e.name:void 0})),"..."),r.a.createElement("div",{className:"features",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("div",{className:"rating",style:t.rating},r.a.createElement("img",{src:a(85),className:"star-icon",alt:"star"}),r.a.createElement("h6",{className:"rating-value"},this.props.rating?this.props.rating:0)),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"1km"),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"32 min")),r.a.createElement("div",{className:"offers"},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"offer-content"},"20% on all orders"))))}}]),n}(n.Component)),zt=function(){return r.a.createElement(r.a.Fragment,null,Array(9).fill().map((function(e,t){return r.a.createElement("div",{className:"restaurantmob"},r.a.createElement(oe.a,{height:100}),r.a.createElement("div",{className:"details"},r.a.createElement("p",{className:"name"}," ",r.a.createElement(oe.a,null)),r.a.createElement("p",{className:"types"},r.a.createElement(oe.a,null)),r.a.createElement("div",{className:"features",style:{display:"flex",justifyContent:"space-between",marginBottom:"10px"}},r.a.createElement("div",{className:"rating"},r.a.createElement(oe.a,null)),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},r.a.createElement(oe.a,{height:30,width:30})),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},r.a.createElement(oe.a,{height:30,width:30}))),r.a.createElement("div",{className:"offers"},r.a.createElement(oe.a,{height:30,width:30}),r.a.createElement("h5",{className:"offer-content"},r.a.createElement(oe.a,null)))))})))},Ut=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).sortBy=function(e){if("rating"===e){var t=n.state.data.sort((function(e,t){return new Date(e.rating).getTime()-new Date(t.rating).getTime()})).reverse();n.setState({filterData:t})}},n.state={data:[],loading:!1,filterData:[],filterOpen:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),R.getRestaurantHomePage().then((function(t){var a=[];t.data.map((function(e){e.is_open&&a.push(e)})),e.setState({data:a,loading:!1})}))}},{key:"render",value:function(){var e,t,a=this;return e=this.state.loading?null:this.state.data.map((function(e){return r.a.createElement(Wt,Object.assign({key:e.id},a.props,{id:e.id,name:e.name,rating:e.rating,categories:e.category,src:e.image}))})),this.state.filterOpen&&(t=r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"filter-head"},"Filters"),r.a.createElement("ul",{className:"categories"},r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"item",onClick:function(){a.sortBy("rating")}},"Relevance"),r.a.createElement("li",{className:"item",onClick:function(){a.sortBy("rating")}},"Rating"),r.a.createElement("li",{className:"item",onClick:function(){a.sortBy("rating")}},"Delivery Time"))))),r.a.createElement("div",{className:"homepagemob"},r.a.createElement("div",{className:"detailshome"},r.a.createElement("h5",{className:"heading"},"All restaurants"),r.a.createElement("h6",{className:"sort mr-auto",onClick:function(){a.setState({filterOpen:!a.state.filterOpen})}},r.a.createElement(Ye.b,{size:25}),"\xa0 Sort/Filter ")),this.state.loading&&r.a.createElement(zt,null),t,e,r.a.createElement(Lt,this.props))}}]),a}(n.Component),Vt=(a(303),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex backnavbar"},r.a.createElement("button",{onClick:function(){e.props.onBack()},className:"backButton"},r.a.createElement(Yt.a,null)),r.a.createElement("h5",{className:"heading"},this.props.heading))}}]),a}(n.Component)),Qt=(a(304),a(305),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleClickOpen=function(){n.setState({addOnVisible:!0})},n.handleClose=function(e){n.setState({addOnVisible:!1})},n.addOnHandler=function(e){var t=Object(o.a)(n.state.finalAddOn);if(!0!==t.includes(e))t.push(e);else{var a=t.findIndex((function(t){return t===e}));t.splice(a,1)}n.setState({finalAddOn:t})},n.submit=function(){Object(Ce.confirmAlert)({title:"Items already in cart",message:"Your cart contains items from other restaurant. Would you like to reset your cart for adding items from this restaurant?",buttons:[{label:"Yes",onClick:function(){n.context.setProductCart([]),n.context.setFinalPrice(0,"zero");var e={client:n.context.clientId,restaurant:n.props.restId,dish:n.props.id,num_of_items:1,add_ons:[],price:n.props.price};H.clientAddItemToCart(n.context.token,e).then((function(e){var t={client:n.context.clientId,restaurant:n.props.restaurant,dish:n.props.data,num_of_items:1,id:e.data.id,add_ons:n.state.finalAddOn,price:n.props.price};n.props.onToggle(),n.context.addToCart(t),n.setState({counterVisible:!0})}))}},{label:"No",onClick:function(){return console.log("No")}}]})},n.buttonHandler=function(){if(!n.context.clientId)return n.props.history.push("/login");var e={client:n.context.clientId,restaurant:n.props.restId};if(0===n.context.cartItems.length){var t={client:n.context.clientId,restaurant:n.props.restId,dish:n.props.id,num_of_items:1,add_ons:[],price:n.props.price};H.clientAddItemToCart(n.context.token,t).then((function(e){console.log(e.data);var t={client:n.context.clientId,restaurant:n.props.restaurant,dish:n.props.data,num_of_items:1,id:e.data.id,add_ons:[],price:n.props.price};n.props.onToggle(),n.context.addToCart(t),n.setState({counterVisible:!0})}))}else H.checkRestaurantCart(n.context.token,e).then((function(e){if(e.data.is_restaurant_same){var t={client:n.context.clientId,restaurant:n.props.restId,dish:n.props.id,num_of_items:1,add_ons:[],price:n.props.price};H.clientAddItemToCart(n.context.token,t).then((function(e){console.log(e.data);var t={client:n.context.clientId,restaurant:n.props.restaurant,dish:n.props.data,num_of_items:1,id:e.data.id,add_ons:[],price:n.props.price};n.props.onToggle(),n.context.addToCart(t),n.setState({counterVisible:!0})}))}else n.submit()}))},n.buttonHandlerRemove=function(){var e=n.context.cartItems.filter((function(e){return e.dish.id===n.props.id}));H.deleteItemFromCart(n.context.token,e[0].id).then((function(){n.setState({counterVisible:!1}),n.context.removeFromCart(e[0].id)}))},n.state={counterVisible:!1,addOnVisible:!1,addOns:[],finalAddOn:[]},n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({addOns:this.props.addOns})}},{key:"componentDidMount",value:function(){this.setState({counterVisible:this.props.presentInCart})}},{key:"render",value:function(){return r.a.createElement("div",{className:"dishmob"},r.a.createElement("img",{className:"image",src:this.props.img,alt:"dish"}),r.a.createElement("h5",{className:"name"},this.props.name),r.a.createElement("h6",{className:"description"},this.props.description),r.a.createElement("h6",{className:"price"},"FCFA ",this.props.price),!1===this.state.counterVisible?r.a.createElement("button",{className:"button",onClick:this.buttonHandler},r.a.createElement("span",{className:"btncon"},"ADD")):r.a.createElement(r.a.Fragment,null,r.a.createElement("button",{className:"buttonRemove",onClick:this.buttonHandlerRemove},r.a.createElement("span",{className:"btncon"},"Remove"))),r.a.createElement(te,Object.assign({},this.props,{addOnHandler:this.addOnHandler,addOns:this.state.addOns,open:this.state.addOnVisible,onClose:this.handleClose})))}}]),a}(n.Component));Qt.contextType=P;var Gt=Qt,qt=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"bottomtogglebar"},r.a.createElement("div",{className:"details"},r.a.createElement("div",{className:"text"},this.context.cartItems.length," items | FCFA ",this.context.finalPrice)),r.a.createElement("div",{className:"cartadd",onClick:function(){e.props.history.push("/cart")}},"View Cart \xa0 ",r.a.createElement(Yt.c,null)," "))}}]),a}(n.Component);qt.contextType=P;var Xt=function(e){Object(N.a)(s,e);var t=Object(y.a)(s);function s(e){var a;return Object(E.a)(this,s),(a=t.call(this,e)).onToggle=function(){a.setState({visible:!0})},a.onCategoryFilter=function(e){a.setState({currentDishes:a.state.dishes[e],selectedCategory:e,categoryChosen:!0})},a.addToCart=function(e){var t=Object(o.a)(a.state.cartItems);t.push(e),a.setState({cartItems:t,visible:!0})},a.state={visible:!1,loading:!1,data:{},category:[],selectedCategory:"",dishes:{},categoryToggle:!1,ratingToggle:!1,currentDishes:[],categoryChosen:!1,cartItems:[],cartDishes:[]},a}return Object(b.a)(s,[{key:"componentDidMount",value:function(){var e=Object(k.a)(x.a.mark((function e(){var t,a=this;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return this.setState({loading:!0}),t="",e.next=4,R.getSpecificRestaurant(this.props.match.params.id).then((function(e){t=e.data[0].category[0].name,a.setState({data:e.data[0],category:e.data[0].category,selectedCategory:e.data[0].category[0].name,loading:!1})}));case 4:je.getDishesByRestaurant(this.props.match.params.id).then((function(e){var n=new Set;Object.entries(e.data).map((function(e){return e[1].map((function(e){return a.context.cartItems.map((function(t){return t.dish.id===e.id?n.add(e.id):void 0}))}))}));var r=Array.from(n);return a.setState({dishes:e.data,currentDishes:e.data[t],cartDishes:r,visible:r.length>0})}));case 5:case"end":return e.stop()}}),e,this)})));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){var e,t=this,s={rating:{backgroundColor:this.state.data.rating>=0&&this.state.data.rating<2?"#d9534f":this.state.data.rating>=2&&this.state.data.rating<3.5?"#db7c38":"#48c479",width:"48px",padding:"0px 5px",fontWeight:400,height:"22px",display:"inline-block",borderBottom:"1px solid #e9e9eb",borderRadius:"20px"}};return this.state.categoryToggle&&(e=r.a.createElement(r.a.Fragment,null,r.a.createElement("h5",{className:"filter-head"},"Categories"),r.a.createElement("ul",{className:"categories"},r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"item",onClick:function(){t.setState({categoryChosen:!1})}},"All"),Object.keys(this.state.dishes).map((function(e){return r.a.createElement("li",{className:"item",key:e,onClick:function(){t.onCategoryFilter(e)}},e)})))))),this.state.ratingToggle&&(e=r.a.createElement("div",{style:{marginLeft:"auto",marginRight:"auto"}},r.a.createElement(Re,null))),this.state.loading?null:r.a.createElement("div",{className:"restaurant-view"},r.a.createElement(Vt,{onBack:function(){t.props.history.goBack()},heading:this.state.data.name}),r.a.createElement("div",{className:"restaurant-info"},r.a.createElement("img",{src:this.state.data.image,className:"image",alt:"restaurant"}),r.a.createElement("h4",{className:"name"},this.state.data.name),r.a.createElement("h6",{className:"types"},this.state.category.map((function(e,a){return a<t.state.category.length-1?e.name+",":e.name})))),r.a.createElement("div",{className:"features",style:{display:"flex",justifyContent:"space-between",marginTop:"20px",marginBottom:"10px",marginLeft:"20px",marginRight:"20px"}},r.a.createElement("div",{className:"rating",style:s.rating},r.a.createElement("img",{src:a(85),className:"star-icon",alt:"star"}),r.a.createElement("h6",{className:"rating-value"},this.state.data.rating?this.state.data.rating:0)),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"1km"),r.a.createElement("div",{style:{display:"inline-block"}},"\u2022"),r.a.createElement("div",{className:"distance"},"32 min")),this.state.data.is_open?"":r.a.createElement("div",{className:"unservicable"},"Restaurant Unservicable"),r.a.createElement("div",{className:"offers"},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"offer-content"},"20% on all orders")),r.a.createElement("div",{className:"dishes-view"},r.a.createElement("div",{className:"dishes-category"},r.a.createElement("h6",{className:"dishes-cat",onClick:function(){t.setState({categoryToggle:!t.state.categoryToggle})}},r.a.createElement(Ye.b,{size:25}),"\xa0 Sort/Filter "),r.a.createElement("h6",{className:"dishes-cat2",onClick:function(){t.setState({ratingToggle:!t.state.ratingToggle})}},r.a.createElement(Ue.c,{size:25}),"\xa0 Rate Us ")),e,r.a.createElement("div",{className:"dishes-list"},this.state.categoryChosen?r.a.createElement(n.Fragment,null,r.a.createElement("div",{className:"category-name"},this.state.selectedCategory),r.a.createElement("div",{className:"dishes"},this.state.currentDishes.map((function(e){return r.a.createElement(Gt,Object.assign({restaurant:t.state.data,addOns:e.add_ons,onToggle:function(){t.onToggle()},presentInCart:t.state.cartDishes.includes(e.id),restId:t.props.match.params.id,data:e,key:e.id},t.props,{price:e.price,name:e.name,id:e.id,addToCart:function(){t.addToCart(e.id,e.name,e.price)},img:Be.apiUrl+e.image,description:e.description}))})))):Object.entries(this.state.dishes).map((function(e){return r.a.createElement(n.Fragment,{key:e[0]},r.a.createElement("div",{className:"category-name"},e[0]),r.a.createElement("div",{className:"dishes"},e[1].map((function(e){return r.a.createElement(Gt,Object.assign({restaurant:t.state.data,addOns:e.add_ons,onToggle:t.onToggle,presentInCart:t.state.cartDishes.includes(e.id),restId:t.props.match.params.id,data:e,key:e.id},t.props,{price:e.price,name:e.name,id:e.id,addToCart:function(){t.addToCart(e.id,e.name,e.price)},img:Be.apiUrl+e.image,description:e.description}))}))))})))),this.state.visible?r.a.createElement(qt,Object.assign({items:this.state.cartItems.length},this.props)):null)}}]),s}(n.Component);Xt.contextType=P;var Jt=Xt,Kt=(a(306),a(307),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"d-flex cartnavbar"},r.a.createElement("button",{onClick:function(){e.props.onBack()},className:"backButton"},r.a.createElement(Yt.a,null)),r.a.createElement("h5",{className:"heading"},this.props.heading))}}]),a}(n.Component)),Zt=(a(308),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).removeFromCart=function(){H.deleteItemFromCart(n.context.token,n.props.id).then((function(e){n.context.removeFromCart(n.props.id)}))},n.cartUpdateHandler=function(e){var t={num_of_items:e,price:n.props.price*e};H.updateItemInCart(n.context.token,n.props.id,t).then((function(t){H.getClientCartItemPrice(n.context.token,n.props.id).then((function(t){n.setState({count:e,finalPrice:t.data.price}),n.props.setFinalPriceData(t.data.price),n.context.setCartProductQuantity(n.props.id,e,t.data.price)}))}))},n.handleClickOpen=function(){n.setState({addOnVisible:!0})},n.handleClose=function(e){n.setState({addOnVisible:!1})},n.handleAdd=function(e){H.updateItemInCart(n.context.token,n.props.id,{add_ons:e}).then((function(e){H.getClientCartItemPrice(n.context.token,n.props.id).then((function(e){n.setState({finalPrice:e.data.price}),n.context.setProductAddOn(n.props.id,e.data.price)}))}))},n.state={count:1,addOnVisible:!1,addOns:[],finalPrice:null},n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({addOns:this.props.add_ons,finalPrice:this.props.finalPrice})}},{key:"componentDidMount",value:function(){this.setState({count:this.props.num_of_items})}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cart-it"},r.a.createElement("div",{className:"cart-item-mob"},r.a.createElement("h5",{className:"name"},this.props.name),r.a.createElement("div",{className:"counter"},r.a.createElement(M.a,{min:1,max:10,count:this.props.num_of_items,onCountChange:function(t){0===t&&e.removeFromCart(),e.cartUpdateHandler(t)},inputStyle:{color:"#52be80",fontWeight:"bold"},wrapperStyle:{border:"2px solid #52be80",height:"43px",borderRadius:"10px",width:"108px",fontWeight:"bold",color:"#52be80"}})),r.a.createElement("div",{className:"price"},"FCFA ",this.state.finalPrice),r.a.createElement("div",{className:"cross",onClick:this.removeFromCart},"x")),r.a.createElement(te,Object.assign({handleAdd:this.handleAdd},this.props,{cartItemId:this.props.id,addOns:this.state.addOns,open:this.state.addOnVisible,onClose:this.handleClose})),this.state.addOns.length>0?r.a.createElement("button",{className:"buttonCustomize",onClick:this.handleClickOpen},r.a.createElement("span",{className:"btncon"},"Customize")):null)}}]),a}(n.Component));Zt.contextType=P;var $t=Zt,ea=a(171),ta=a(387);a(309);var aa=Object(Y.a)((function(e){return{paper:{position:"absolute",width:"90%",marginLeft:"5%",marginRight:"5%",backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],marginTop:"40%",padding:"10%"}}}));function na(e){var t=aa(),a=Object(n.useState)([]),s=Object(l.a)(a,2),i=s[0],c=s[1],o=Object(n.useState)(!1),m=Object(l.a)(o,2),d=(m[0],m[1],T().token);Object(n.useEffect)((function(){R.getRestaurantPromoCodes(d,e.restaurantId).then((function(e){c(e.data)}))}),[]);var u=r.a.createElement("div",{className:t.paper},r.a.createElement("div",{className:"coupon-modal"},r.a.createElement("div",{className:"position"},r.a.createElement("div",{className:"essential"},r.a.createElement(We.a,{size:20}),r.a.createElement("h5",{className:"number"},"Coupons")),r.a.createElement("h6",{className:"cross",onClick:e.onClose},"x")),i.length>0?i.map((function(t){return r.a.createElement(Ve,Object.assign({key:t.id},e,{name:t.promocode,discount:t.discount_percentage,onApplyHandler:function(){e.discountApply(t.discount_percentage)},categories:t.category}))})):r.a.createElement("h6",{style:{textAlign:"center"}},"Sorry!No coupons found")));return r.a.createElement("div",null,r.a.createElement(ta.a,{open:e.open,onClose:e.onClose,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description"},u))}var ra=function(e){Object(N.a)(n,e);var t=Object(y.a)(n);function n(e){var a;return Object(E.a)(this,n),(a=t.call(this,e)).handleOpen=function(){a.setState({modal_open:!0})},a.handleClose=function(){a.setState({modal_open:!1})},a.setFinalPriceData=function(e){a.setState({finalPrice:e})},a.discountApply=function(e){var t=a.state.finalPrice;a.setState({finalPrice:t-e/100*t,discount_applied:!0,modal_open:!1})},a.removeCouponHandler=function(){var e=a.context.finalPrice;a.setState({finalPrice:e})},a.state={discount_applied:!1,finalPrice:0,modal_open:!1,restaurantId:null,cartItems:[]},a}return Object(b.a)(n,[{key:"componentDidMount",value:function(){var e=this;H.getClientCart(this.context.token,this.context.clientId).then((function(t){if(t.data.length>0){var a=0;t.data.map((function(e){a+=e.price})),e.setState({cartItems:t.data,finalPrice:a,restaurantId:t.data[0].restaurant.id})}})).then((function(e){}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"cartscreenmob"},r.a.createElement(Kt,{heading:this.context.restaurant.name+"".concat("("+this.context.cartItems.length+" items)"),items:2,onBack:function(){e.props.history.goBack()}}),r.a.createElement("div",{className:"cart-items"},this.context.cartItems.length>0?this.context.cartItems.map((function(t){return r.a.createElement($t,{key:t.id,id:t.id,add_ons:t.dish.add_ons,name:t.dish.name,finalPrice:t.price,price:t.dish.price,setFinalPriceData:e.setFinalPriceData,num_of_items:t.num_of_items})})):r.a.createElement("h6",{style:{textAlign:"center"}},"No items found in cart")),this.state.discount_applied?r.a.createElement("div",{className:"apply-coupon"},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"text"},"Discount Applied"),r.a.createElement("div",{className:"arrow",onClick:this.removeCouponHandler},r.a.createElement(ze.a,null))):r.a.createElement("div",{className:"apply-coupon",onClick:this.handleOpen},r.a.createElement("img",{src:a(47),className:"discount",alt:"discount"}),r.a.createElement("h5",{className:"text"},"APPLY COUPON"),r.a.createElement("div",{className:"arrow"},r.a.createElement(Ue.b,null))),null!==this.state.restaurantId?r.a.createElement(na,{restaurantId:this.state.restaurantId,open:this.state.modal_open,discountApply:this.discountApply,onClose:this.handleClose}):null,r.a.createElement("hr",{width:"100%",color:"grey"}),r.a.createElement("div",{className:"payment-details"},r.a.createElement("h6",{className:"main-text"},"Bill Details"),r.a.createElement("div",{className:"price-details"},r.a.createElement("h6",{className:"text"},"Item Total"),r.a.createElement("h6",{className:"price"},"FCFA ",this.state.finalPrice)),r.a.createElement("hr",{width:"80%",color:"grey",height:"2px"}),r.a.createElement("div",{className:"price-details"},r.a.createElement("h6",{className:"texttotal"},"Total Price"),r.a.createElement("h6",{className:"pricetotal"},"FCFA ",this.state.finalPrice))),r.a.createElement("div",{className:"essential-details"},r.a.createElement("div",{className:"icon"},r.a.createElement(ea.a,{size:25})),r.a.createElement("h6",{className:"text"},"Please ensure your address and order details are correct. A cancellation fee will be applicable post 1 minute of placing your order.")),r.a.createElement("button",{className:"button",onClick:function(){e.props.history.push("/address",{finalPrice:e.state.finalPrice})}},r.a.createElement("span",{className:"btncon"},"Add Address To Pay")))}}]),n}(n.Component);ra.contextType=P;var sa=ra,ia=(a(310),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],loading:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),R.getRestaurantPromoCodes(this.context.token,this.props.match.params.id).then((function(t){e.setState({data:t.data,loading:!1})}))}},{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"couponscreen"},r.a.createElement(Kt,{heading:"Apply Coupons",onBack:function(){e.props.history.goBack()}}),r.a.createElement("div",{className:"text-input"},r.a.createElement("input",{type:"text",placeholder:"Enter Coupon Code",className:"input"})),r.a.createElement("div",{className:"coupon-list"},r.a.createElement("h5",{className:"heading"},"Available Coupons"),r.a.createElement("div",{className:"coupons"},this.state.data.length>0?this.state.data.map((function(t){return r.a.createElement(Ve,Object.assign({},e.props,{name:t.promocode,discount:t.discount_percentage,categories:t.category}))})):r.a.createElement("h6",{style:{textAlign:"center"}},"Sorry!No coupons found"))))}}]),a}(n.Component));ia.contextType=P;var ca=ia,oa=(a(311),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).handleClickPaymentOpen=function(e){e.preventDefault(),n.setState({payment_modal:!0})},n.handlePaymentClose=function(e){n.setState({payment_modal:!1})},n.inputChangeHandler=function(e){var t=Object(c.a)({},n.state.formfield);t[e.target.name]=e.target.value,n.setState({formfield:t})},n.createOrder=function(){var e=[];n.context.cartItems.map((function(t){return e.push({dish:t.dish.id,quantity:t.num_of_items,add_ons:t.add_ons})}));var t={order:{restaurant:n.context.restaurant.id,client:n.context.clientId,payment_method:"Online Payment",total_amount:n.props.location.state.finalPrice,latitude:n.state.latitude,longitude:n.state.longitude,client_address_details:n.state.mainAddress+","+n.state.formfield.door+","+n.state.formfield.landmark},dishes:e};tt.createOrder(n.context.clientId,t).then((function(e){n.props.history.push("/orders"),n.context.setProductCart([]),n.context.setFinalPrice(0)})).catch((function(e){console.log(e)}))},n.onMarkerDrag=function(e,t,a){var r=a.latLng,s=r.lat(),i=r.lng();n.setState({latitude:s,longitude:i})},n.state={loading:!1,formfield:{door:"",landmark:""},mainAddress:"Test Street",latitude:null,longitude:null,payment_modal:!1},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"addressscreen"},r.a.createElement(Kt,{heading:"Add Address",onBack:function(){e.props.history.goBack()}}),r.a.createElement("div",{className:"address-form"},r.a.createElement("h5",{className:"heading"},"Save Address"),r.a.createElement(Ze,{latitude:this.context.latitude,longitude:this.context.longitude,onMarkerDrag:this.onMarkerDrag}),r.a.createElement("form",{className:"form-address",onSubmit:this.handleClickPaymentOpen},r.a.createElement("div",{className:"input"},r.a.createElement("label",{class:"label"},"Door"),r.a.createElement("input",{onChange:this.inputChangeHandler,name:"door",type:"text",className:"input-text",placeholder:""})),r.a.createElement("div",{className:"input"},r.a.createElement("label",{class:"label"},"LANDMARK"),r.a.createElement("input",{onChange:this.inputChangeHandler,name:"landmark",type:"text",className:"input-text",placeholder:""})),r.a.createElement("button",{type:"submit",className:"button"},r.a.createElement("span",{className:"btncon"},"Save and Continue"))),r.a.createElement(st,Object.assign({},this.props,{mode:"phone",finalPrice:this.props.location.state.finalPrice,createOrder:this.createOrder,open:this.state.payment_modal,onClose:this.handlePaymentClose}))))}}]),a}(n.Component));oa.contextType=P;var la=oa,ma=(a(312),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).restaurantSearcHandler=function(e){R.getRestaurants(e.target.value).then((function(e){n.setState({restaurants:e.data,searched:!0})}))},n.dishChangeHandler=function(e){je.getDishBySearch(e.target.value).then((function(e){n.setState({dishes:e.data,searched:!0})}))},n.state={selectedTab:"Restaurant",restaurants:[],searched:!1,dishes:[]},n}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"searchscreen"},r.a.createElement("h4",{className:"search-tab",onClick:function(){e.setState({selectedTab:"Restaurant"})}},"Restaurant"),r.a.createElement("h4",{className:"search-tab",onClick:function(){e.setState({selectedTab:"Dish"})}},"Dish"),"Restaurant"===this.state.selectedTab?r.a.createElement(ot.DebounceInput,{minLength:2,debounceTimeout:200,placeholder:"Search for Restaurant all around you",onChange:this.restaurantSearcHandler}):r.a.createElement(ot.DebounceInput,{minLength:2,debounceTimeout:200,placeholder:"Search for your favourite Dishes",onChange:this.dishChangeHandler}),r.a.createElement("div",{className:"content"},"Restaurant"===this.state.selectedTab?this.state.restaurants.length>0?this.state.restaurants.map((function(t){return r.a.createElement(Wt,Object.assign({key:t.id},e.props,{id:t.id,name:t.name,categories:t.category,rating:t.rating,src:t.image}))})):r.a.createElement("h6",{style:{textAlign:"center"}},this.state.searched?"Sorry! No Restaurant available.":null):this.state.dishes.length>0?this.state.dishes.map((function(t){return r.a.createElement(mt,{presentInCart:e.context.cartItems.filter((function(e){return e.dish.id===t.id})).length>0,restId:t.restaurant.id,id:t.id,data:t,key:t.id,name:t.name,description:t.description,price:t.price,image:t.image,restaurant:t.restaurant})})):r.a.createElement("h6",{style:{textAlign:"center"}},this.state.searched?"Sorry! No Dish available.":null)),r.a.createElement(Lt,this.props))}}]),a}(n.Component));ma.contextType=P;var da=ma,ua=(a(313),a(378));var pa=function(e){var t=Object(n.useState)({}),a=Object(l.a)(t,2),s=a[0],i=a[1],c=T(),o=c.token,m=c.setToken,d=_(),u=d.clientId,p=d.setClientId;Object(n.useEffect)((function(){H.getSpecificClient(o,u).then((function(e){i(e.data[0].user)}))}),[]);var h=function(){var t=Object(k.a)(x.a.mark((function t(){return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,m(null);case 2:return t.next=4,p(null);case 4:return t.next=6,localStorage.setItem("authToken",null);case 6:return t.next=8,localStorage.setItem("clientId",null);case 8:e.history.push("/login");case 9:case"end":return t.stop()}}),t)})));return function(){return t.apply(this,arguments)}}(),f=s.name,g=s.mobile,v=s.email;return r.a.createElement("div",{className:"accountscreen"},r.a.createElement("div",{className:"account-info"},r.a.createElement("h3",{className:"name"},f),r.a.createElement("div",{className:"essential"},r.a.createElement("h6",{className:"text-phone"},g),r.a.createElement("h6",{className:"text-email"},v)),r.a.createElement("div",{className:"options"},r.a.createElement("div",{className:"option"},r.a.createElement("h6",{className:"option-text"},r.a.createElement(ua.a,null),"\xa0 Manage Addresses"),r.a.createElement("div",{className:"icon"},r.a.createElement(Ue.b,null))),r.a.createElement("div",{className:"option"},r.a.createElement("h6",{className:"option-text"},r.a.createElement(I.a,null),"\xa0 Offers"),r.a.createElement("div",{className:"icon"},r.a.createElement(Ue.b,null))),r.a.createElement("div",{className:"option",onClick:h},r.a.createElement("h6",{className:"option-text"},r.a.createElement(Ue.a,null),"\xa0 Log Out"),r.a.createElement("div",{className:"icon"},r.a.createElement(Ue.b,null))))),r.a.createElement(Lt,e))},ha=(a(314),a(315),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(){return Object(E.a)(this,a),t.apply(this,arguments)}return Object(b.a)(a,[{key:"render",value:function(){var e=this;return r.a.createElement("div",{className:"order-item-mob"},r.a.createElement("div",{className:"essential-info"},r.a.createElement("div",{className:"restaurant-info"},r.a.createElement("img",{className:"image",src:this.props.restaurant.image,alt:"restaurantimage"}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"name"},this.props.restaurant.name),r.a.createElement("h6",{className:"address"},this.props.restaurant.address),r.a.createElement("h6",{className:"order"},"ORDER #",this.props.id," |  ",Ct()(this.props.created).format("ddd, MMM DD, YYYY,  hh:mm A")),r.a.createElement("h5",{className:"view-details",onClick:function(){e.props.history.push("/order/".concat(e.props.id))}},"View Details"))),r.a.createElement("div",{className:"status"},"Invalid Date"===Ct()(this.props.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")?"Delivered on "+Ct()(this.state.data.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")==="Invalid Date":"Will be delivered soon")),r.a.createElement("hr",{width:"90%",height:2,striped:!0}),r.a.createElement("div",{className:"items-info"},r.a.createElement("div",{className:"items"},r.a.createElement("h6",{style:{fontSize:"16px"}},this.props.dishes.map((function(t,a){return a<e.props.dishes.length-1?t.dish.name+" x "+t.quantity+",":t.dish.name+" x "+t.quantity})))),r.a.createElement("div",{className:"paid"},"Total Paid: ",r.a.createElement("strong",null,"FCFA ",this.props.price))),r.a.createElement("h6",{style:{color:"#52be80"}},"* To view order status click on View Details"))}}]),a}(n.Component)),fa=function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],loading:!1},n}return Object(b.a)(a,[{key:"componentDidMount",value:function(){var e=this;this.setState({loading:!0}),tt.getClientOrders(this.context.token,this.context.clientId).then((function(t){e.setState({data:t.data,loading:!1})}))}},{key:"render",value:function(){var e,t=this;return e=this.state.loading?r.a.createElement("div",{style:{marginLeft:"40%"}},r.a.createElement(Te.a,null)):r.a.createElement("div",{className:"orders"},this.state.data.length>0?this.state.data.map((function(e){return r.a.createElement(ha,Object.assign({},t.props,{price:e.total_amount,created:e.created,id:e.id,dishes:e.dishes,delivered_time:e.delivered_time,restaurant:e.restaurant}))})):r.a.createElement("h5",{style:{textAlign:"center",color:"grey",marginTop:"20px"}},"No orders")),r.a.createElement("div",{className:"ordersmob"},r.a.createElement("div",{className:"detailshome"},r.a.createElement("h5",{className:"heading"},"All Orders")),e,r.a.createElement(Lt,this.props))}}]),a}(n.Component);fa.contextType=P;var ga=fa,va=(a(316),function(e){Object(N.a)(a,e);var t=Object(y.a)(a);function a(e){var n;return Object(E.a)(this,a),(n=t.call(this,e)).state={data:[],dishes:[],loading:!1,Client:null,restaurant:{},invigilator:null,status:"Will be updated soon"},n}return Object(b.a)(a,[{key:"componentWillMount",value:function(){this.setState({Client:new kt.w3cwebsocket("".concat(Be.wsUrl,"/orders/get-order-status/").concat(this.props.match.params.id))})}},{key:"componentDidMount",value:function(){var e=this,t=this.state.Client;this.setState({loading:!0}),t.onopen=function(){console.log("Hey i am interacting")},t.onmessage=function(t){e.setState({status:t.data})},t.onerror=function(e){console.log("Connection error: "+e)},tt.getSpecificOrder(this.context.token,this.props.match.params.id).then((function(t){e.setState({data:t.data[0],dishes:t.data[0].dishes,restaurant:t.data[0].restaurant,invigilator:t.data[0].invigilator.id,loading:!1})}))}},{key:"componentWillUnmount",value:function(){this.state.Client.onclose=function(e){console.log(e)}}},{key:"render",value:function(){var e=this;return r.a.createElement(wt.Provider,{value:{invigilator:this.state.invigilator,clientId:this.context.clientId,setInvigilator:this.setInvigilator}},r.a.createElement("div",{className:"order-detail-screen"},r.a.createElement(Vt,Object.assign({},this.props,{onBack:function(){e.props.history.goBack()},heading:"# "+this.state.data.id})),r.a.createElement("div",{className:"essential"},r.a.createElement(I.d,{size:20}),r.a.createElement("h5",{className:"number"},r.a.createElement("span",{style:{color:"#212121"}},"Order Id")," #",this.state.data.id)),r.a.createElement("div",{className:"main-status"},this.state.status.toUpperCase()),r.a.createElement("div",{className:"restaurant-info"},r.a.createElement(Oe.b,{size:25}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"name"},this.state.restaurant.name),r.a.createElement("h6",{className:"address"},this.state.restaurant.address))),r.a.createElement("div",{className:"address-info"},r.a.createElement(Oe.b,{style:{height:25,width:25}}),r.a.createElement("div",{className:"info"},r.a.createElement("h5",{className:"name"},"Address"),r.a.createElement("h6",{className:"address"},this.state.data.client_address_details))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"address"},r.a.createElement("div",{className:"info"},r.a.createElement("h6",{className:"status"},"Invalid Date"===Ct()(this.props.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")?"Delivered on "+Ct()(this.state.data.delivered_time).format("ddd, MMM DD, YYYY, hh:mm A")==="Invalid Date":"Will be delivered soon"))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"items"},r.a.createElement("h6",{className:"number"},this.state.dishes.length," items"),r.a.createElement("ul",{className:"items-list"},this.state.dishes.map((function(e){return r.a.createElement("li",{className:"item"},r.a.createElement("h6",{className:"name"},e.dish.name," x ",e.quantity," "),r.a.createElement("h6",{className:"price"},"FCFA ",e.dish.price*e.quantity))})))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"bill-details"},r.a.createElement("h5",{className:"number"},"Bill Details"),r.a.createElement("div",{className:"item-total"},r.a.createElement("h6",{className:"heading"},"Item Total"),r.a.createElement("h6",{className:"price"},"FCFA ",this.state.data.total_amount)),r.a.createElement("div",{className:"item-total"},r.a.createElement("h6",{className:"heading"},"Coupon Discount"),r.a.createElement("h6",{className:"price"},"FCFA ",this.state.data.total_amount))),r.a.createElement("hr",{width:"90%",height:"2px"}),r.a.createElement("div",{className:"total-price"},r.a.createElement("div",null,r.a.createElement("h6",{className:"heading-total"},"Total Price"),r.a.createElement("p",{className:"mode"},"Paid via ",this.state.data.payment_method)),r.a.createElement("h6",{className:"heading",style:{color:"#52be80",position:"absolute",right:"40px"}},"FCFA ",this.state.data.total_amount)),null!==this.state.invigilator?r.a.createElement(Dt,{order:this.props.match.params.id}):null))}}]),a}(n.Component));va.contextType=P;var Ea={enableHighAccuracy:!1,timeout:1/0,maximumAge:0};var ba=function(e,t){var a=e.component,s=Object(vt.a)(e,["component"]),i=T().token;return Object(n.useEffect)((function(){console.log(i)}),[]),r.a.createElement(d.b,Object.assign({},s,{render:function(e){return null!==i?r.a.createElement(a,Object.assign({},s,e)):r.a.createElement(d.a,{to:{pathname:"/login",state:{referer:e.location}}})}}))},ya=Object(h.a)({palette:{primary:{main:"#52be80",color:"white"},secondary:{main:"#f44336"}}});var Na=function(e){var t=e.watch,a=e.settings,s=localStorage.getItem("authToken");s="null"===s?JSON.parse(s):s;var i=localStorage.getItem("clientId");i="null"===i?JSON.parse(i):i;var u=Object(n.useState)(s),h=Object(l.a)(u,2),E=h[0],b=h[1],y=Object(n.useState)(i),N=Object(l.a)(y,2),O=N[0],C=N[1],x=Object(n.useState)([]),k=Object(l.a)(x,2),j=k[0],A=k[1],S=Object(n.useState)(0),w=Object(l.a)(S,2),I=w[0],T=w[1],_=Object(n.useState)({}),F=Object(l.a)(_,2),R=F[0],B=F[1],M=function(){var e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Ea,a=Object(n.useState)({}),r=Object(l.a)(a,2),s=r[0],i=r[1],o=Object(n.useState)(null),m=Object(l.a)(o,2),d=m[0],u=m[1],p=function(e){var t=e.coords,a=e.timestamp;i({latitude:t.latitude,longitude:t.longitude,accuracy:t.accuracy,timestamp:a})},h=function(e){u(e.message)};return Object(n.useEffect)((function(){if(navigator&&navigator.geolocation){var a=null;return e?a=navigator.geolocation.watchPosition(p,h,t):navigator.geolocation.getCurrentPosition(p,h,t),function(){return a&&navigator.geolocation.clearWatch(a)}}u("Geolocation is not supported")}),[t.enableHighAccuracy,t.timeout,t.maximumAge]),Object(c.a)({},s,{error:d})}(t,a),Y=M.latitude,L=M.longitude;M.error,Object(n.useEffect)((function(){s?(p.a.defaults.headers.common.Authorization="Bearer "+s,H.getClientCart(s,O).then((function(e){var t=0;e.data.map((function(e){return t+=e.price})),A(e.data),T(t),B(e.data.length>0?e.data[0].restaurant:{})}))):(console.log(s),p.a.defaults.headers.common.Authorization=null)}),[s]);var W=function(e){localStorage.setItem("authToken",JSON.stringify(e)),b(e)},z=function(e,t){var a=I;"add"===t?a+=e:"sub"===t?a-=e:a=e,T(a)};return r.a.createElement(f.a,{theme:ya},r.a.createElement(D.Provider,{value:{token:E,setToken:W}},r.a.createElement(P.Provider,{value:{token:E,clientId:O,latitude:Y,longitude:L,cartItems:j,finalPrice:I,restaurant:R,setToken:W,setClientId:function(e){localStorage.setItem("clientId",JSON.stringify(e)),C(e),H.getClientCart(s,e).then((function(e){var t=0;e.data.map((function(e){return t+=e.price})),A(e.data),T(t),B(e.data.length>0?e.data[0].restaurant:{})}))},addToCart:function(e){var t=Object(o.a)(j);t.push(e),A(t),B(e.restaurant),z(e.price,"add")},removeFromCart:function(e){var t=Object(o.a)(j),a=t.findIndex((function(t){return t.id===e})),n=t.filter((function(t){return t.id===e}))[0].price;t.splice(a,1),A(t),z(n,"sub")},setFinalPrice:T,setCartProductQuantity:function(e,t,a){var n=Object(o.a)(j),r=n.filter((function(t){return t.id===e}))[0],s=n.findIndex((function(t){return t.id===e}));n[s]=Object(c.a)({},r,{num_of_items:t,price:a});var i=0;n.map((function(e){return i+=e.price})),A(n),T(i)},setProductCart:A,setRestaurant:B,setProductAddOn:function(e,t){var a=Object(o.a)(j),n=a.filter((function(t){return t.id===e}))[0],r=a.findIndex((function(t){return t.id===e}));a[r]=Object(c.a)({},n,{price:t});var s=0;a.map((function(e){return s+=e.price})),A(a),T(s)}}},r.a.createElement(m.a,null,r.a.createElement("div",{className:"App desktop-view"},r.a.createElement(d.b,{render:function(e){var t=e.location;return r.a.createElement(g.a,null,r.a.createElement(v.a,{key:t.key,timeout:400,classNames:"fade"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:de}),r.a.createElement(d.b,{exact:!0,path:"/search",component:ht}),r.a.createElement(d.b,{exact:!0,path:"/login",component:he}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:Ne}),r.a.createElement(d.b,{exact:!0,path:"/restaurant/:id",component:He}),r.a.createElement(ba,{exact:!0,path:"/cart",component:ct}),r.a.createElement(ba,{exact:!0,path:"/orders",component:Ht}))))}})),r.a.createElement("div",{className:"App phone-view"},r.a.createElement(d.b,{render:function(e){var t=e.location;return r.a.createElement(g.a,null,r.a.createElement(v.a,{key:t.key,timeout:400,classNames:"fade"},r.a.createElement(d.d,null,r.a.createElement(d.b,{exact:!0,path:"/",component:Ut}),r.a.createElement(d.b,{exact:!0,path:"/login",component:he}),r.a.createElement(d.b,{exact:!0,path:"/signup",component:Ne}),r.a.createElement(d.b,{exact:!0,path:"/restaurant/:id",component:Jt}),r.a.createElement(d.b,{exact:!0,path:"/coupon/:id",component:ca}),r.a.createElement(d.b,{exact:!0,path:"/search",component:da}),r.a.createElement(ba,{exact:!0,path:"/address",component:la}),r.a.createElement(ba,{exact:!0,path:"/cart",component:sa}),r.a.createElement(ba,{exact:!0,path:"/account",component:pa}),r.a.createElement(ba,{exact:!0,path:"/orders",component:ga}),r.a.createElement(ba,{exact:!0,path:"/order/:id",component:va}))))}}))))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));p.a.defaults.baseURL=Be.apiUrl,p.a.interceptors.request.use((function(e){return e}),(function(e){return Promise.reject(e)})),p.a.interceptors.response.use((function(e){return e}),(function(e){return Promise.reject(e)})),i.a.render(r.a.createElement(Na,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}))},47:function(e,t,a){e.exports=a.p+"static/media/discount.43cde109.png"},85:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAABmJLR0QA/wD/AP+gvaeTAAABqklEQVRIibWWPy9DURjG34vWgtTgXyqpgcRIm9RuIBG7TyCVSMrWlQ/gE1gaRCeTwWTCaJAw1SAIg0EUCSH5GTyNo3Fv70nqSd7ck9Pf8z6n55ze1MxDwBSQ9/F4CdgBtv+reT/wBrwDg3F9bR4ZS2bWaWZJM1v0XWCkgARwy4/ugEQrAxbU+FwFsNDKgGM1LQBLGh+1qnlWDR+BLtWj5rLN/B3AjJmNmVmfaqhh3CO2HATBi0LLZrZqZqdAzczuzexB5Y6rBuR0aGF61wGPOt9qFLjRtQ3THZCrGzLO4X0CRWAc6I2xhSmxRXnrlyHTCHYDBwJegPlmzR3vDPAk7yGQCgOTwJbAD6AQo3lBLPImmxkCYN3Zy1IEW3K4dSBotiDXvCnjRgSzIWYzjIl6F43oeRzBnOiZiWD+XFk7UNPqBjSXBiqqtOYGxNSAdp+ASRmrQAew4twSgFdgDegELjU34ROwLNMZcOE03lPVdSEGYNknoMJvVYE55/PphmCAXZ+A68at+INJaOuexV7FbZ6WYR8YicnXf5zDcQLyfL9hvQTM8p//OML0BQdOpI7EKQDcAAAAAElFTkSuQmCC"}},[[197,1,2]]]);
//# sourceMappingURL=main.b54ded2c.chunk.js.map